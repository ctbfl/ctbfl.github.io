<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/39cb4fde2fa41b5e.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-679b75d1c4c2027c.js"/><script src="/_next/static/chunks/4bd1b696-70b6d399998de86a.js" async=""></script><script src="/_next/static/chunks/684-5aaa8290a129f299.js" async=""></script><script src="/_next/static/chunks/main-app-1b36f25749a65f0c.js" async=""></script><script src="/_next/static/chunks/711-3ac098f4aa3de521.js" async=""></script><script src="/_next/static/chunks/217-414f3bc2f28e17e5.js" async=""></script><script src="/_next/static/chunks/862-15a393ad2462454b.js" async=""></script><script src="/_next/static/chunks/app/layout-04f81b10b1cda18d.js" async=""></script><script src="/_next/static/chunks/d3ac728e-598d38ae96b11803.js" async=""></script><script src="/_next/static/chunks/907-77394335ddd73061.js" async=""></script><script src="/_next/static/chunks/352-983c456fb1dcaf51.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bpostslug%5D/page-23fa8c1cb4409c23.js" async=""></script><link rel="icon" href="/fav.ico" type="image/svg+xml"/><link rel="dns-prefetch" href="https://google-fonts.jialeliu.com"/><link rel="preconnect" href="https://google-fonts.jialeliu.com" crossorigin=""/><link rel="preload" as="style" href="https://google-fonts.jialeliu.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Crimson+Text:ital,wght@0,400;0,600;1,400&amp;family=Noto+Sans+SC:wght@300;400;500;600;700&amp;family=Noto+Serif+SC:wght@400;600;700&amp;display=swap"/><link rel="stylesheet" id="gfonts-css" href="https://google-fonts.jialeliu.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Crimson+Text:ital,wght@0,400;0,600;1,400&amp;family=Noto+Sans+SC:wght@300;400;500;600;700&amp;family=Noto+Serif+SC:wght@400;600;700&amp;display=swap" media="print"/><script>
              (function(){
                var l = document.getElementById('gfonts-css');
                if (!l) return;
                if (l.media !== 'all') {
                  l.addEventListener('load', function(){ try { l.media = 'all'; } catch(e){} });
                }
              })();
            </script><noscript><link rel="stylesheet" href="https://google-fonts.jialeliu.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Crimson+Text:ital,wght@0,400;0,600;1,400&amp;family=Noto+Sans+SC:wght@300;400;500;600;700&amp;family=Noto+Serif+SC:wght@400;600;700&amp;display=swap"/></noscript><script>
              try {
                const theme = localStorage.getItem('theme-storage');
                const parsed = theme ? JSON.parse(theme) : null;
                const setting = parsed?.state?.theme || 'system';
                const prefersDark = typeof window !== 'undefined' && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
                const effective = setting === 'dark' ? 'dark' : (setting === 'light' ? 'light' : (prefersDark ? 'dark' : 'light'));
                var root = document.documentElement;
                root.classList.add(effective);
                root.setAttribute('data-theme', effective);
              } catch (e) {
                var root = document.documentElement;
                root.classList.add('light');
                root.setAttribute('data-theme', 'light');
              }
            </script><title>Junshan Huang</title><meta name="description" content="PhD student at Rutgers University."/><meta name="author" content="Junshan Huang"/><meta name="keywords" content="Junshan Huang,PhD,Research,Rutgers University"/><meta name="creator" content="Junshan Huang"/><meta name="publisher" content="Junshan Huang"/><meta property="og:title" content="Junshan Huang"/><meta property="og:description" content="PhD student at Rutgers University."/><meta property="og:site_name" content="Junshan Huang&#x27;s Academic Website"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Junshan Huang"/><meta name="twitter:description" content="PhD student at Rutgers University."/><link rel="icon" href="/fav.ico"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="font-sans antialiased"><div style="visibility:hidden"><nav class="fixed top-0 left-0 right-0 z-50" data-headlessui-state=""><div class="transition-all duration-300 ease-out bg-transparent" style="transform:translateY(-100px)"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16 lg:h-20"><div class="flex-shrink-0" tabindex="0"><a class="text-xl lg:text-2xl font-serif font-semibold text-primary hover:text-accent transition-colors duration-200" href="/">Junshan Huang</a></div><div class="hidden lg:block"><div class="ml-10 flex items-center space-x-8"><div class="flex items-baseline space-x-8"><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-neutral-600 hover:text-primary" href="/"><span class="relative z-10">About</span></a><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-neutral-600 hover:text-primary" href="/publications/"><span class="relative z-10">Publications</span></a><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-neutral-600 hover:text-primary" href="/teaching/"><span class="relative z-10">Teaching</span></a><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-neutral-600 hover:text-primary" href="/awards/"><span class="relative z-10">Awards</span></a><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-neutral-600 hover:text-primary" href="/services/"><span class="relative z-10">Services</span></a><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-primary" href="/blog/"><span class="relative z-10">Blog</span><div class="absolute inset-0 bg-accent/10 rounded-lg"></div></a></div><div class="flex items-center justify-center w-10 h-10 rounded-lg border border-neutral-200 dark:border-[rgba(148,163,184,0.24)] bg-background dark:bg-neutral-800"><div class="w-4 h-4 rounded-full bg-neutral-300 animate-pulse"></div></div></div></div><div class="lg:hidden flex items-center space-x-2"><div class="flex items-center justify-center w-10 h-10 rounded-lg border border-neutral-200 dark:border-[rgba(148,163,184,0.24)] bg-background dark:bg-neutral-800"><div class="w-4 h-4 rounded-full bg-neutral-300 animate-pulse"></div></div><button class="inline-flex items-center justify-center p-2 rounded-md text-neutral-600 hover:text-primary hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-accent transition-colors duration-200" id="headlessui-disclosure-button-Â«R5pdbÂ»" type="button" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Open main menu</span><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="block h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></div></button></div></div></div></div></nav><main class="min-h-screen pt-16 lg:pt-20"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><!--$--><!--/$--><!--$--><!--/$--></main><footer class="border-t border-neutral-200/50 bg-neutral-50/50 dark:bg-neutral-900/50 dark:border-neutral-700/50"><div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6"><div class="flex flex-col sm:flex-row justify-between items-center gap-2"><p class="text-xs text-neutral-500">Last updated: <!-- -->February 25, 2026</p><p class="text-xs text-neutral-500 flex items-center"><a href="https://github.com/xyjoey/PRISM" target="_blank" rel="noopener noreferrer">Built with PRISM</a><span class="ml-2">ğŸš€</span></p></div></div></footer></div><script src="/_next/static/chunks/webpack-679b75d1c4c2027c.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[3719,[\"711\",\"static/chunks/711-3ac098f4aa3de521.js\",\"217\",\"static/chunks/217-414f3bc2f28e17e5.js\",\"862\",\"static/chunks/862-15a393ad2462454b.js\",\"177\",\"static/chunks/app/layout-04f81b10b1cda18d.js\"],\"ThemeProvider\"]\n3:I[768,[\"711\",\"static/chunks/711-3ac098f4aa3de521.js\",\"217\",\"static/chunks/217-414f3bc2f28e17e5.js\",\"862\",\"static/chunks/862-15a393ad2462454b.js\",\"177\",\"static/chunks/app/layout-04f81b10b1cda18d.js\"],\"default\"]\n4:I[7555,[],\"\"]\n5:I[1295,[],\"\"]\n6:I[2548,[\"711\",\"static/chunks/711-3ac098f4aa3de521.js\",\"217\",\"static/chunks/217-414f3bc2f28e17e5.js\",\"862\",\"static/chunks/862-15a393ad2462454b.js\",\"177\",\"static/chunks/app/layout-04f81b10b1cda18d.js\"],\"default\"]\n8:I[9665,[],\"MetadataBoundary\"]\na:I[9665,[],\"OutletBoundary\"]\nd:I[4911,[],\"AsyncMetadataOutlet\"]\nf:I[9665,[],\"ViewportBoundary\"]\n11:I[6614,[],\"\"]\n:HL[\"/_next/static/css/39cb4fde2fa41b5e.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"maXav0yzpc1C2CgTAv0HO\",\"p\":\"\",\"c\":[\"\",\"blog\",\"review-of-common-mathematical-knowledge-in-robotics-ii-transformation-from-camera-coordinate-system-to-image-coordinate-system\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"postslug\",\"review-of-common-mathematical-knowledge-in-robotics-ii-transformation-from-camera-coordinate-system-to-image-coordinate-system\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/39cb4fde2fa41b5e.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"scroll-smooth\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/fav.ico\",\"type\":\"image/svg+xml\"}],[\"$\",\"link\",null,{\"rel\":\"dns-prefetch\",\"href\":\"https://google-fonts.jialeliu.com\"}],[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://google-fonts.jialeliu.com\",\"crossOrigin\":\"\"}],[\"$\",\"link\",null,{\"rel\":\"preload\",\"as\":\"style\",\"href\":\"https://google-fonts.jialeliu.com/css2?family=Inter:wght@300;400;500;600;700\u0026family=Crimson+Text:ital,wght@0,400;0,600;1,400\u0026family=Noto+Sans+SC:wght@300;400;500;600;700\u0026family=Noto+Serif+SC:wght@400;600;700\u0026display=swap\"}],[\"$\",\"link\",null,{\"suppressHydrationWarning\":true,\"rel\":\"stylesheet\",\"id\":\"gfonts-css\",\"href\":\"https://google-fonts.jialeliu.com/css2?family=Inter:wght@300;400;500;600;700\u0026family=Crimson+Text:ital,wght@0,400;0,600;1,400\u0026family=Noto+Sans+SC:wght@300;400;500;600;700\u0026family=Noto+Serif+SC:wght@400;600;700\u0026display=swap\",\"media\":\"print\"}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n              (function(){\\n                var l = document.getElementById('gfonts-css');\\n                if (!l) return;\\n                if (l.media !== 'all') {\\n                  l.addEventListener('load', function(){ try { l.media = 'all'; } catch(e){} });\\n                }\\n              })();\\n            \"}}],[\"$\",\"noscript\",null,{\"children\":[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://google-fonts.jialeliu.com/css2?family=Inter:wght@300;400;500;600;700\u0026family=Crimson+Text:ital,wght@0,400;0,600;1,400\u0026family=Noto+Sans+SC:wght@300;400;500;600;700\u0026family=Noto+Serif+SC:wght@400;600;700\u0026display=swap\"}]}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n              try {\\n                const theme = localStorage.getItem('theme-storage');\\n                const parsed = theme ? JSON.parse(theme) : null;\\n                const setting = parsed?.state?.theme || 'system';\\n                const prefersDark = typeof window !== 'undefined' \u0026\u0026 window.matchMedia \u0026\u0026 window.matchMedia('(prefers-color-scheme: dark)').matches;\\n                const effective = setting === 'dark' ? 'dark' : (setting === 'light' ? 'light' : (prefersDark ? 'dark' : 'light'));\\n                var root = document.documentElement;\\n                root.classList.add(effective);\\n                root.setAttribute('data-theme', effective);\\n              } catch (e) {\\n                var root = document.documentElement;\\n                root.classList.add('light');\\n                root.setAttribute('data-theme', 'light');\\n              }\\n            \"}}]]}],[\"$\",\"body\",null,{\"className\":\"font-sans antialiased\",\"children\":[\"$\",\"$L2\",null,{\"children\":[[\"$\",\"$L3\",null,{\"items\":[{\"title\":\"About\",\"type\":\"page\",\"target\":\"about\",\"href\":\"/\"},{\"title\":\"Publications\",\"type\":\"page\",\"target\":\"publications\",\"href\":\"/publications\"},{\"title\":\"Teaching\",\"type\":\"page\",\"target\":\"teaching\",\"href\":\"/teaching\"},{\"title\":\"Awards\",\"type\":\"page\",\"target\":\"awards\",\"href\":\"/awards\"},{\"title\":\"Services\",\"type\":\"page\",\"target\":\"services\",\"href\":\"/services\"},{\"title\":\"Blog\",\"type\":\"page\",\"target\":\"blog\",\"href\":\"/blog\"}],\"siteTitle\":\"Junshan Huang\",\"enableOnePageMode\":false}],[\"$\",\"main\",null,{\"className\":\"min-h-screen pt-16 lg:pt-20\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"$L6\",null,{\"lastUpdated\":\"February 25, 2026\"}]]}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"postslug\",\"review-of-common-mathematical-knowledge-in-robotics-ii-transformation-from-camera-coordinate-system-to-image-coordinate-system\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",[\"$\",\"$L8\",null,{\"children\":\"$L9\"}],null,[\"$\",\"$La\",null,{\"children\":[\"$Lb\",\"$Lc\",[\"$\",\"$Ld\",null,{\"promise\":\"$@e\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"bbXAJ1Aqi3lPYx2Fx5Mpm\",{\"children\":[[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}],null]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"12:\"$Sreact.suspense\"\n13:I[4911,[],\"AsyncMetadata\"]\n15:I[6868,[\"330\",\"static/chunks/d3ac728e-598d38ae96b11803.js\",\"711\",\"static/chunks/711-3ac098f4aa3de521.js\",\"907\",\"static/chunks/907-77394335ddd73061.js\",\"352\",\"static/chunks/352-983c456fb1dcaf51.js\",\"535\",\"static/chunks/app/blog/%5Bpostslug%5D/page-23fa8c1cb4409c23.js\"],\"default\"]\n9:[\"$\",\"$12\",null,{\"fallback\":null,\"children\":[\"$\",\"$L13\",null,{\"promise\":\"$@14\"}]}]\n16:T100a,"])</script><script>self.__next_f.push([1,"Assume that our camera coordinate system is defined as follows (viewed from behind the camera):\n\n- $Z$ points forward, $X$ points to the right, and $Y$ points downward. (This is a common definition used in OpenCV; in robotics it is more common to have $X$ forward, $Y$ to the left, and $Z$ upward, but the derivation is the same.)\n\nThe image pixel coordinate system is defined as:\n\n- $X$ to the right, $Y$ downward.\n\n## From Camera Coordinates to Image Coordinates\n\nIn general, a camera can be modeled using the pinhole imaging assumption (The camera may have distortion, but here we assume the image has already been undistorted.).\n\n![image-20260208152807344](/blog/review-of-common-mathematical-knowledge-in-robotics-ii-transformation-from-camera-coordinate-system-to-image-coordinate-system/image-20260208152807344.png)\n\nOriginally, the image is formed on the imaging plane on the left, but for convenience we can instead observe it on the symmetric imaging plane on the right.\n\nAssume that we have a point in the camera coordinate system\n${}^{Cam}\\mathbf{P}_{point} = [X, Y, Z]^T$.\n\nUsing the principle of similar triangles, the corresponding point on the right imaging plane is\n$$\n\\begin{bmatrix}\n\\frac{F}{Z}\\cdot X\\\\\n\\frac{F}{Z}\\cdot Y\\\\\nF\n\\end{bmatrix}\n$$\n\nNext, we discretize this point into image coordinates. Let the corresponding image coordinate be\n${}^{Img}\\mathbf{P}_{point} = [u, v]^T$.\n\nWe use $m_x$ and $m_y$ to denote how many pixels there are per unit distance (per meter) in the $x$ and $y$ directions, respectively.\n\nThus, the pixel position of this point relative to the image center is\n$$\n{}^{Center}\\mathbf{P}_{point} =\n\\begin{bmatrix}\nm_x\\cdot\\frac{F}{Z}\\cdot X\\\\\nm_x\\cdot\\frac{F}{Z}\\cdot Y\\\\\n\\end{bmatrix}\n$$\n\nHowever, we know that image coordinates take the top-left corner as $(0,0)$. The image center in image coordinates is actually\n${}^{Img}\\mathbf{P}_{center} = [c_x, c_y]^T$\n(this is generally half of the image width and height in pixels).\n\nSo we perform another transformation:\n$$\n{}^{Img}\\mathbf{P}_{point} =\n{}^{Img}\\mathbf{P}_{center} + {}^{Center}\\mathbf{P}_{Point}\n$$\n\nFinally, we obtain\n$$\n{}^{Img}\\mathbf{P}_{point} =\n\\begin{bmatrix}\nm_x\\cdot\\frac{F}{Z}\\cdot X + c_x\\\\\nm_x\\cdot\\frac{F}{Z}\\cdot Y + c_y\\\\\n\\end{bmatrix}\n$$\n\nUsing\n$$\nf_x = m_x\\cdot F\\\\\nf_y = m_y\\cdot F\n$$\nfor simplification, we get\n$$\n{}^{Img}\\mathbf{P}_{point} =\n\\begin{bmatrix}\nu\\\\\nv\n\\end{bmatrix}\n=\n\\begin{bmatrix}\nf_x\\cdot\\frac{1}{Z}\\cdot X + c_x\\\\\nf_x\\cdot\\frac{1}{Z}\\cdot Y + c_y\\\\\n\\end{bmatrix}\n=\n\\begin{bmatrix}\nf_x \u0026 0 \u0026 c_x\\\\\n0 \u0026 f_y \u0026 c_y\\\\\n\\end{bmatrix}\n\\cdot\n\\begin{bmatrix}\nX\\\\\nY\\\\\nZ\n\\end{bmatrix}\n\\cdot \\frac{1}{Z}\n$$\n\nPeople like to add a third row and move $Z$ to the left, resulting in the following form:\n$$\nZ \\cdot {}^{Img}\\mathbf{\\tilde{P}}_{point}\n= Z \\cdot\n\\begin{bmatrix}\nu\\\\\nv\\\\\n1\n\\end{bmatrix}\n=\n\\begin{bmatrix}\nf_x \u0026 0 \u0026 c_x\\\\\n0 \u0026 f_y \u0026 c_y\\\\\n0 \u0026 0 \u0026 1\n\\end{bmatrix}\n\\cdot\n\\begin{bmatrix}\nX\\\\\nY\\\\\nZ\n\\end{bmatrix}\n= K \\cdot {}^{Cam}\\mathbf{P}_{point}\n$$\n\nHere, $K$ is the well-known camera intrinsic matrix.\n\nThere are many advantages to doing this (adding the third row):\n\n- The vector on the left-hand side not only gives pixel coordinates (by dividing the first two elements by the third), but also preserves the original depth information of the pixel through the third element, allowing us to transform back at any time.\n\n- A $3 \\times 3$ matrix is convenient for matrix chain multiplication, for example:\n  $$\n  Z\\cdot{}^{Img}\\mathbf{\\tilde{P}}_{point}\n  = K_{3\\times3} \\cdot [R|t]_{3\\times4} \\cdot {}^{World}\\mathbf{\\tilde{P}}_{point}\n  $$\n  (Here, $K$ can be regarded as ${}^{Img}T_{Cam}$, and the second term is ${}^{Cam}T_{World}$ with the last row removed, which makes it easy to understand using the chain rule.)\n\n## From Image Coordinates to Camera Coordinates\n\nTransforming from image coordinates to camera coordinates is simply the reverse of the above process:\n$$\n{}^{Cam}\\mathbf{P}_{point}\n= K^{-1} \\cdot Z \\cdot {}^{Img}\\mathbf{\\tilde{P}}_{point}\\\\\n\\begin{bmatrix}\nX\\\\\nY\\\\\nZ\n\\end{bmatrix}\n= K^{-1} \\cdot Z \\cdot\n\\begin{bmatrix}\nu\\\\\nv\\\\\n1\n\\end{bmatrix}\n$$\n"])</script><script>self.__next_f.push([1,"17:Td53,"])</script><script>self.__next_f.push([1,"å‡è®¾æˆ‘ä»¬çš„ç›¸æœºåæ ‡ç³»æ˜¯ï¼ˆä»ç›¸æœºåé¢çœ‹è¿‡å»ï¼‰\n\n- $Z$æœå‰ï¼Œ$X$å‘å³ï¼Œ$Y$å‘ä¸‹ã€‚ ï¼ˆè¿™æ˜¯OpenCVå¸¸ç”¨çš„å®šä¹‰ï¼Œæœºå™¨äººä¸­é€šå¸¸Xæœå‰ï¼ŒYå‘å·¦ï¼ŒZå‘ä¸Šï¼Œä½†æ¨å¯¼æ˜¯ä¸€æ ·çš„ï¼‰\n\nå›¾åƒçš„åƒç´ åæ ‡ç³»æ˜¯\n\n- $X$å‘å³ï¼Œ$Y$å‘ä¸‹ã€‚\n\n##  ä»ç›¸æœºç³»åˆ°å›¾åƒç³»\n\nä¸€èˆ¬ç›¸æœºå¯ä»¥é‡‡ç”¨å°å­”æˆåƒçš„å‡è®¾ï¼ˆç›¸æœºä¼šæœ‰ç•¸å˜ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä»¬å‡è®¾å›¾ç‰‡å·²å»ç•¸å˜ï¼‰\n\n![image-20260208152807344](/blog/review-of-common-mathematical-knowledge-in-robotics-ii-transformation-from-camera-coordinate-system-to-image-coordinate-system/image-20260208152807344.png)\n\nåŸæ¥æ˜¯åœ¨å·¦ä¾§è¿™ä¸ªæˆåƒé¢ä¸Šæˆåƒçš„ï¼Œä½†æ˜¯ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬å¯ä»¥æ¢åˆ°å³ä¾§å¯¹ç§°çš„è¿™ä¸ªæˆåƒé¢ä¸Šè§‚å¯Ÿã€‚\n\nå‡è®¾æˆ‘ä»¬åœ¨ç›¸æœºç³»ä¸‹æœ‰ä¸€ä¸ªç‚¹${}^{Cam}\\mathbf{P}_{point}=[X,Y,Z]^T$\n\né‚£ä¹ˆä½¿ç”¨ç›¸ä¼¼ä¸‰è§’å½¢çš„åŸç†ï¼Œå¾—åˆ°ä»–å¯¹åº”åœ¨å³ä¾§æˆåƒå¹³é¢ä¸Šçš„ç‚¹çš„ä½ç½®æ˜¯\n$$\n\\begin{bmatrix}\n\\frac{F}{Z}\\cdot X\\\\\n\\frac{F}{Z}\\cdot Y\\\\\nF\n\\end{bmatrix}\n$$\nç„¶åæˆ‘ä»¬è¦ç¦»æ•£åŒ–è¿™ä¸ªç‚¹åˆ°å›¾åƒåæ ‡ä¸Šï¼Œè®¾å…¶å¯¹åº”çš„å›¾åƒåæ ‡ä¸º${}^{Img}\\mathbf{P}_{point}=[u,v]^T$ã€‚\n\næˆ‘ä»¬ç”¨$m_x$å’Œ$m_y$åˆ†åˆ«è¡¨ç¤º$x,y$æ–¹å‘ä¸Šï¼Œå•ä½è·ç¦»ï¼ˆæ¯ç±³ï¼‰æœ‰å¤šå°‘åƒç´ \n\nä»è€Œå¾—åˆ°è¯¥ç‚¹ç›¸å¯¹å›¾åƒä¸­å¿ƒçš„åƒç´ ä½ç½®\n$$\n{}^{Center}\\mathbf{P}_{point}=\\begin{bmatrix}\nm_x\\cdot\\frac{F}{Z}\\cdot X\\\\\nm_x\\cdot\\frac{F}{Z}\\cdot Y\\\\\n\\end{bmatrix}\n$$\nä½†æ˜¯å› ä¸ºæˆ‘ä»¬çŸ¥é“å›¾åƒåæ ‡æ˜¯ä»å·¦ä¸Šè§’ä¸º(0,0)çš„ï¼Œæˆ‘ä»¬è¿™é‡Œçš„å›¾åƒä¸­å¿ƒå®é™…ä¸Šä½ç½®å·²ç»æ˜¯${}^{Img}\\mathbf{P}_{center}=[c_x, c_y]^T$ï¼ˆè¿™ä¸ªä¸€èˆ¬å°±æ˜¯ä¸€åŠçš„å›¾ç‰‡åƒç´ é•¿å®½ï¼‰\n\næ‰€ä»¥å†åšä¸ªè½¬åŒ–\n$$\n{}^{Img}\\mathbf{P}_{point}={}^{Img}\\mathbf{P}_{center}+{}^{Center}\\mathbf{P}_{Point}\n$$\nä»è€Œæœ€å\n$$\n{}^{Img}\\mathbf{P}_{point}=\\begin{bmatrix}\nm_x\\cdot\\frac{F}{Z}\\cdot X + c_x\\\\\nm_x\\cdot\\frac{F}{Z}\\cdot Y + c_y\\\\\n\\end{bmatrix}\n$$\nä½¿ç”¨\n$$\nf_x=m_x\\cdot F\\\\\nf_y=m_y\\cdot F\n$$\nè¿›è¡Œç®€åŒ–åˆ™å¾—åˆ°\n$$\n{}^{Img}\\mathbf{P}_{point} =\\begin{bmatrix}\nu\\\\\nv\n\\end{bmatrix}=\\begin{bmatrix}\nf_x\\cdot\\frac{1}{Z}\\cdot X + c_x\\\\\nf_x\\cdot\\frac{1}{Z}\\cdot Y + c_y\\\\\n\\end{bmatrix} = \n\\begin{bmatrix}\nf_x \u0026 0 \u0026 c_x\\\\\n0 \u0026 f_y \u0026 c_y\\\\\n\\end{bmatrix}\n\\cdot\n\\begin{bmatrix}\nX\\\\\nY\\\\\nZ\n\\end{bmatrix}\\cdot\\frac{1}{Z}\n$$\näººä»¬å–œæ¬¢ç»™ä»–åŠ ä¸Šç¬¬ä¸‰è¡Œï¼Œå¹¶æŠŠZæ”¾åˆ°å·¦è¾¹ï¼Œææˆè¿™ä¸ªæ ·å­\n$$\nZ\\cdot{}^{Img}\\mathbf{\\tilde{P}}_{point} =Z\\cdot\\begin{bmatrix}\nu\\\\\nv\\\\\n1\n\\end{bmatrix}= \n\\begin{bmatrix}\nf_x \u0026 0 \u0026 c_x\\\\\n0 \u0026 f_y \u0026 c_y\\\\\n0 \u0026 0 \u0026 1\n\\end{bmatrix}\n\\cdot\n\\begin{bmatrix}\nX\\\\\nY\\\\\nZ\n\\end{bmatrix}=K\\cdot {}^{Cam}\\mathbf{P}_{point}\n$$\nå…¶ä¸­$K$å°±æ˜¯å¸¸è¯´çš„ç›¸æœºå†…å‚çŸ©é˜µã€‚\n\nè¿™ä¹ˆåšï¼ˆåŠ ä¸Šç¬¬ä¸‰è¡Œï¼‰å¥½å¤„æœ‰å¾ˆå¤š\n\n- å·¦ä¾§çš„ç»“æœå‘é‡é™¤äº†å¯ä»¥å¾—åˆ°åƒç´ åæ ‡ï¼ˆå‰ä¸¤é¡¹é™¤ä»¥ç¬¬ä¸‰é¡¹ï¼‰ï¼Œè¿˜é€šè¿‡ç¬¬ä¸‰é¡¹ä¿ç•™äº†åƒç´ åŸæœ¬çš„æ·±åº¦ä¿¡æ¯ï¼Œè¿™æ ·æˆ‘ä»¬è¿˜å¯ä»¥éšæ—¶å˜æ¢å›å»ã€‚\n\n- 3x3çš„çŸ©é˜µå¤§å°æ–¹ä¾¿çŸ©é˜µè¿ä¹˜ï¼Œæ¯”å¦‚\n  $$\n  Z\\cdot{}^{Img}\\mathbf{\\tilde{P}}_{point} = K_{3\\times3}\\cdot [R|t]_{3\\times4}\\cdot {}^{World}\\mathbf{\\tilde{P}}_{point}\n  $$\n  (å…¶ä¸­Kç›¸å½“äºæ˜¯${}^{Img}T_{Cam}$ï¼Œè€Œç¬¬äºŒé¡¹å°±æ˜¯${}^{Cam}T_{World}$å»æ‰æœ€åä¸€è¡Œï¼Œä»è€Œç”¨é“¾å¼æ³•åˆ™å¾ˆå¥½ç†è§£)\n\n## ä»å›¾åƒç³»åˆ°ç›¸æœºç³»\n\nä»å›¾åƒç³»åˆ°ç›¸æœºç³»ï¼Œå°±æ˜¯ä¸Šè¿°è¿‡ç¨‹åè¿‡æ¥~\n$$\n{}^{Cam}\\mathbf{P}_{point}=K^{-1}\\cdot Z\\cdot {}^{Img}\\mathbf{\\tilde{P}}_{point}\\\\\n\\begin{bmatrix}\nX\\\\\nY\\\\\nZ\n\\end{bmatrix}=K^{-1}\\cdot Z \\cdot \\begin{bmatrix}\nu\\\\\nv\\\\\n1\n\\end{bmatrix}\n$$\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"$12\",null,{\"fallback\":null,\"children\":[\"$\",\"$L15\",null,{\"meta\":{\"title\":\"Review of Common Mathematical Knowledge in Robotics (II): Transformation from Camera Coordinate System to Image Coordinate System\",\"title_cn\":\"æœºå™¨äººå¸¸ç”¨æ•°å­¦çŸ¥è¯†å¤ä¹ ï¼ˆäºŒï¼‰ï¼šç›¸æœºåæ ‡ç³»åˆ°å›¾åƒåæ ‡ç³»çš„è½¬æ¢\",\"subtitle\":\"\",\"subtitle_cn\":\"\",\"date\":\"2026-02-08\",\"tags\":[\"math\"]},\"contentEn\":\"$16\",\"contentCn\":\"$17\"}]}]\n"])</script><script>self.__next_f.push([1,"c:null\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:null\n"])</script><script>self.__next_f.push([1,"14:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Junshan Huang\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"PhD student at Rutgers University.\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"Junshan Huang\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"Junshan Huang,PhD,Research,Rutgers University\"}],[\"$\",\"meta\",\"4\",{\"name\":\"creator\",\"content\":\"Junshan Huang\"}],[\"$\",\"meta\",\"5\",{\"name\":\"publisher\",\"content\":\"Junshan Huang\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:title\",\"content\":\"Junshan Huang\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:description\",\"content\":\"PhD student at Rutgers University.\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:site_name\",\"content\":\"Junshan Huang's Academic Website\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:title\",\"content\":\"Junshan Huang\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:description\",\"content\":\"PhD student at Rutgers University.\"}],[\"$\",\"link\",\"14\",{\"rel\":\"icon\",\"href\":\"/fav.ico\"}]],\"error\":null,\"digest\":\"$undefined\"}\ne:{\"metadata\":\"$14:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>