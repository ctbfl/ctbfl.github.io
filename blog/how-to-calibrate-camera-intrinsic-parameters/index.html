<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/39cb4fde2fa41b5e.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-679b75d1c4c2027c.js"/><script src="/_next/static/chunks/4bd1b696-70b6d399998de86a.js" async=""></script><script src="/_next/static/chunks/684-5aaa8290a129f299.js" async=""></script><script src="/_next/static/chunks/main-app-1b36f25749a65f0c.js" async=""></script><script src="/_next/static/chunks/711-3ac098f4aa3de521.js" async=""></script><script src="/_next/static/chunks/217-414f3bc2f28e17e5.js" async=""></script><script src="/_next/static/chunks/862-15a393ad2462454b.js" async=""></script><script src="/_next/static/chunks/app/layout-04f81b10b1cda18d.js" async=""></script><script src="/_next/static/chunks/d3ac728e-598d38ae96b11803.js" async=""></script><script src="/_next/static/chunks/907-77394335ddd73061.js" async=""></script><script src="/_next/static/chunks/352-983c456fb1dcaf51.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bpostslug%5D/page-23fa8c1cb4409c23.js" async=""></script><link rel="icon" href="/fav.ico" type="image/svg+xml"/><link rel="dns-prefetch" href="https://google-fonts.jialeliu.com"/><link rel="preconnect" href="https://google-fonts.jialeliu.com" crossorigin=""/><link rel="preload" as="style" href="https://google-fonts.jialeliu.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Crimson+Text:ital,wght@0,400;0,600;1,400&amp;family=Noto+Sans+SC:wght@300;400;500;600;700&amp;family=Noto+Serif+SC:wght@400;600;700&amp;display=swap"/><link rel="stylesheet" id="gfonts-css" href="https://google-fonts.jialeliu.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Crimson+Text:ital,wght@0,400;0,600;1,400&amp;family=Noto+Sans+SC:wght@300;400;500;600;700&amp;family=Noto+Serif+SC:wght@400;600;700&amp;display=swap" media="print"/><script>
              (function(){
                var l = document.getElementById('gfonts-css');
                if (!l) return;
                if (l.media !== 'all') {
                  l.addEventListener('load', function(){ try { l.media = 'all'; } catch(e){} });
                }
              })();
            </script><noscript><link rel="stylesheet" href="https://google-fonts.jialeliu.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Crimson+Text:ital,wght@0,400;0,600;1,400&amp;family=Noto+Sans+SC:wght@300;400;500;600;700&amp;family=Noto+Serif+SC:wght@400;600;700&amp;display=swap"/></noscript><script>
              try {
                const theme = localStorage.getItem('theme-storage');
                const parsed = theme ? JSON.parse(theme) : null;
                const setting = parsed?.state?.theme || 'system';
                const prefersDark = typeof window !== 'undefined' && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
                const effective = setting === 'dark' ? 'dark' : (setting === 'light' ? 'light' : (prefersDark ? 'dark' : 'light'));
                var root = document.documentElement;
                root.classList.add(effective);
                root.setAttribute('data-theme', effective);
              } catch (e) {
                var root = document.documentElement;
                root.classList.add('light');
                root.setAttribute('data-theme', 'light');
              }
            </script><title>Junshan Huang</title><meta name="description" content="PhD student at Rutgers University."/><meta name="author" content="Junshan Huang"/><meta name="keywords" content="Junshan Huang,PhD,Research,Rutgers University"/><meta name="creator" content="Junshan Huang"/><meta name="publisher" content="Junshan Huang"/><meta property="og:title" content="Junshan Huang"/><meta property="og:description" content="PhD student at Rutgers University."/><meta property="og:site_name" content="Junshan Huang&#x27;s Academic Website"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Junshan Huang"/><meta name="twitter:description" content="PhD student at Rutgers University."/><link rel="icon" href="/fav.ico"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="font-sans antialiased"><div style="visibility:hidden"><nav class="fixed top-0 left-0 right-0 z-50" data-headlessui-state=""><div class="transition-all duration-300 ease-out bg-transparent" style="transform:translateY(-100px)"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16 lg:h-20"><div class="flex-shrink-0" tabindex="0"><a class="text-xl lg:text-2xl font-serif font-semibold text-primary hover:text-accent transition-colors duration-200" href="/">Junshan Huang</a></div><div class="hidden lg:block"><div class="ml-10 flex items-center space-x-8"><div class="flex items-baseline space-x-8"><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-neutral-600 hover:text-primary" href="/"><span class="relative z-10">About</span></a><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-neutral-600 hover:text-primary" href="/publications/"><span class="relative z-10">Publications</span></a><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-neutral-600 hover:text-primary" href="/teaching/"><span class="relative z-10">Teaching</span></a><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-neutral-600 hover:text-primary" href="/awards/"><span class="relative z-10">Awards</span></a><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-neutral-600 hover:text-primary" href="/services/"><span class="relative z-10">Services</span></a><a class="relative px-3 py-2 text-sm font-medium transition-all duration-200 rounded hover:bg-accent/10 hover:shadow-sm text-primary" href="/blog/"><span class="relative z-10">Blog</span><div class="absolute inset-0 bg-accent/10 rounded-lg"></div></a></div><div class="flex items-center justify-center w-10 h-10 rounded-lg border border-neutral-200 dark:border-[rgba(148,163,184,0.24)] bg-background dark:bg-neutral-800"><div class="w-4 h-4 rounded-full bg-neutral-300 animate-pulse"></div></div></div></div><div class="lg:hidden flex items-center space-x-2"><div class="flex items-center justify-center w-10 h-10 rounded-lg border border-neutral-200 dark:border-[rgba(148,163,184,0.24)] bg-background dark:bg-neutral-800"><div class="w-4 h-4 rounded-full bg-neutral-300 animate-pulse"></div></div><button class="inline-flex items-center justify-center p-2 rounded-md text-neutral-600 hover:text-primary hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-accent transition-colors duration-200" id="headlessui-disclosure-button-Â«R5pdbÂ»" type="button" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Open main menu</span><div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="block h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></div></button></div></div></div></div></nav><main class="min-h-screen pt-16 lg:pt-20"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><!--$--><!--/$--><!--$--><!--/$--></main><footer class="border-t border-neutral-200/50 bg-neutral-50/50 dark:bg-neutral-900/50 dark:border-neutral-700/50"><div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6"><div class="flex flex-col sm:flex-row justify-between items-center gap-2"><p class="text-xs text-neutral-500">Last updated: <!-- -->February 26, 2026</p><p class="text-xs text-neutral-500 flex items-center"><a href="https://github.com/xyjoey/PRISM" target="_blank" rel="noopener noreferrer">Built with PRISM</a><span class="ml-2">ğŸš€</span></p></div></div></footer></div><script src="/_next/static/chunks/webpack-679b75d1c4c2027c.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[3719,[\"711\",\"static/chunks/711-3ac098f4aa3de521.js\",\"217\",\"static/chunks/217-414f3bc2f28e17e5.js\",\"862\",\"static/chunks/862-15a393ad2462454b.js\",\"177\",\"static/chunks/app/layout-04f81b10b1cda18d.js\"],\"ThemeProvider\"]\n3:I[768,[\"711\",\"static/chunks/711-3ac098f4aa3de521.js\",\"217\",\"static/chunks/217-414f3bc2f28e17e5.js\",\"862\",\"static/chunks/862-15a393ad2462454b.js\",\"177\",\"static/chunks/app/layout-04f81b10b1cda18d.js\"],\"default\"]\n4:I[7555,[],\"\"]\n5:I[1295,[],\"\"]\n6:I[2548,[\"711\",\"static/chunks/711-3ac098f4aa3de521.js\",\"217\",\"static/chunks/217-414f3bc2f28e17e5.js\",\"862\",\"static/chunks/862-15a393ad2462454b.js\",\"177\",\"static/chunks/app/layout-04f81b10b1cda18d.js\"],\"default\"]\n8:I[9665,[],\"MetadataBoundary\"]\na:I[9665,[],\"OutletBoundary\"]\nd:I[4911,[],\"AsyncMetadataOutlet\"]\nf:I[9665,[],\"ViewportBoundary\"]\n11:I[6614,[],\"\"]\n:HL[\"/_next/static/css/39cb4fde2fa41b5e.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"whj3ws_t7-z8KajLRjXtc\",\"p\":\"\",\"c\":[\"\",\"blog\",\"how-to-calibrate-camera-intrinsic-parameters\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"postslug\",\"how-to-calibrate-camera-intrinsic-parameters\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/39cb4fde2fa41b5e.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"scroll-smooth\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/fav.ico\",\"type\":\"image/svg+xml\"}],[\"$\",\"link\",null,{\"rel\":\"dns-prefetch\",\"href\":\"https://google-fonts.jialeliu.com\"}],[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://google-fonts.jialeliu.com\",\"crossOrigin\":\"\"}],[\"$\",\"link\",null,{\"rel\":\"preload\",\"as\":\"style\",\"href\":\"https://google-fonts.jialeliu.com/css2?family=Inter:wght@300;400;500;600;700\u0026family=Crimson+Text:ital,wght@0,400;0,600;1,400\u0026family=Noto+Sans+SC:wght@300;400;500;600;700\u0026family=Noto+Serif+SC:wght@400;600;700\u0026display=swap\"}],[\"$\",\"link\",null,{\"suppressHydrationWarning\":true,\"rel\":\"stylesheet\",\"id\":\"gfonts-css\",\"href\":\"https://google-fonts.jialeliu.com/css2?family=Inter:wght@300;400;500;600;700\u0026family=Crimson+Text:ital,wght@0,400;0,600;1,400\u0026family=Noto+Sans+SC:wght@300;400;500;600;700\u0026family=Noto+Serif+SC:wght@400;600;700\u0026display=swap\",\"media\":\"print\"}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n              (function(){\\n                var l = document.getElementById('gfonts-css');\\n                if (!l) return;\\n                if (l.media !== 'all') {\\n                  l.addEventListener('load', function(){ try { l.media = 'all'; } catch(e){} });\\n                }\\n              })();\\n            \"}}],[\"$\",\"noscript\",null,{\"children\":[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://google-fonts.jialeliu.com/css2?family=Inter:wght@300;400;500;600;700\u0026family=Crimson+Text:ital,wght@0,400;0,600;1,400\u0026family=Noto+Sans+SC:wght@300;400;500;600;700\u0026family=Noto+Serif+SC:wght@400;600;700\u0026display=swap\"}]}],[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n              try {\\n                const theme = localStorage.getItem('theme-storage');\\n                const parsed = theme ? JSON.parse(theme) : null;\\n                const setting = parsed?.state?.theme || 'system';\\n                const prefersDark = typeof window !== 'undefined' \u0026\u0026 window.matchMedia \u0026\u0026 window.matchMedia('(prefers-color-scheme: dark)').matches;\\n                const effective = setting === 'dark' ? 'dark' : (setting === 'light' ? 'light' : (prefersDark ? 'dark' : 'light'));\\n                var root = document.documentElement;\\n                root.classList.add(effective);\\n                root.setAttribute('data-theme', effective);\\n              } catch (e) {\\n                var root = document.documentElement;\\n                root.classList.add('light');\\n                root.setAttribute('data-theme', 'light');\\n              }\\n            \"}}]]}],[\"$\",\"body\",null,{\"className\":\"font-sans antialiased\",\"children\":[\"$\",\"$L2\",null,{\"children\":[[\"$\",\"$L3\",null,{\"items\":[{\"title\":\"About\",\"type\":\"page\",\"target\":\"about\",\"href\":\"/\"},{\"title\":\"Publications\",\"type\":\"page\",\"target\":\"publications\",\"href\":\"/publications\"},{\"title\":\"Teaching\",\"type\":\"page\",\"target\":\"teaching\",\"href\":\"/teaching\"},{\"title\":\"Awards\",\"type\":\"page\",\"target\":\"awards\",\"href\":\"/awards\"},{\"title\":\"Services\",\"type\":\"page\",\"target\":\"services\",\"href\":\"/services\"},{\"title\":\"Blog\",\"type\":\"page\",\"target\":\"blog\",\"href\":\"/blog\"}],\"siteTitle\":\"Junshan Huang\",\"enableOnePageMode\":false}],[\"$\",\"main\",null,{\"className\":\"min-h-screen pt-16 lg:pt-20\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"$L6\",null,{\"lastUpdated\":\"February 26, 2026\"}]]}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"postslug\",\"how-to-calibrate-camera-intrinsic-parameters\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",[\"$\",\"$L8\",null,{\"children\":\"$L9\"}],null,[\"$\",\"$La\",null,{\"children\":[\"$Lb\",\"$Lc\",[\"$\",\"$Ld\",null,{\"promise\":\"$@e\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"dwDnuLpm8fI75T_5IRn_q\",{\"children\":[[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}],null]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"12:\"$Sreact.suspense\"\n13:I[4911,[],\"AsyncMetadata\"]\n15:I[6868,[\"330\",\"static/chunks/d3ac728e-598d38ae96b11803.js\",\"711\",\"static/chunks/711-3ac098f4aa3de521.js\",\"907\",\"static/chunks/907-77394335ddd73061.js\",\"352\",\"static/chunks/352-983c456fb1dcaf51.js\",\"535\",\"static/chunks/app/blog/%5Bpostslug%5D/page-23fa8c1cb4409c23.js\"],\"default\"]\n9:[\"$\",\"$12\",null,{\"fallback\":null,\"children\":[\"$\",\"$L13\",null,{\"promise\":\"$@14\"}]}]\n16:T1ec4,"])</script><script>self.__next_f.push([1,"When you purchase a camera, it may not necessarily provide a way to read out its intrinsic parameters. However, we often need these parameters, so we typically calibrate the camera ourselves using software.\n\n---\n\n## Method for Calibrating Camera Intrinsics (Abstract Version)\n\n\u003e1. Print a calibration board and place it on a table.  \n\u003e2. Pick up the camera and take many pictures of the board from various angles.  \n\u003e3. Let the program compute the camera intrinsics automatically.\n\n## Principle Analysis\n\n\u003e All derivations here use the standard OpenCV camera coordinate system: Z points forward, X to the right, and Y downward.\n\nWe define a series of calibration points in the world, denoted as $q_1, q_2, ..., q_m$. We also **require** that all these calibration points lie on the same plane. Therefore, their coordinates in the world coordinate system can be expressed as:\n\n$$\n{}^{World}\\mathbf{P}_{q_j}=\n\\begin{bmatrix}\nx_j\\\\\ny_j\\\\\n0\n\\end{bmatrix}, \\,\n{}^{World}\\mathbf{\\tilde{P}}_{q_j}=\n\\begin{bmatrix}\nx_j\\\\\ny_j\\\\\n0\\\\\n1\n\\end{bmatrix}\n$$\n\n(As for why they must lie on the same plane, this will become clear later.)\n\nWe then take many images of the board from different viewpoints (for now, assume no distortion), denoted as $P_1, P_2, ..., P_n$.\n\nUsing computer vision techniques such as ArUco code detection, we can determine the image locations of the calibration points.\n\nFor image $P_i$, let the projection of point $q_j$ onto the image be $l_{i,j}$, whose pixel coordinates are:\n\n$$\n{}^{Img}\\mathbf{P}_{l_{i,j}}=\\begin{bmatrix}\nx_{i,j}\\\\\ny_{i,j}\n\\end{bmatrix},\\,{}^{Img}\\mathbf{\\tilde{P}}_{l_{i,j}}=\\begin{bmatrix}\nx_{i,j}\\\\\ny_{i,j}\\\\\n1\n\\end{bmatrix}\n$$\n\nThis projection follows the coordinate transformation formula (see the previous article for derivation):\n\n$$\nZ_{i,j}\\cdot{}^{Img}\\mathbf{\\tilde{P}}_{l_{i,j}} = K_{3\\times3}\\cdot [R_i|t_i]_{3\\times4}\\cdot {}^{World}\\mathbf{\\tilde{P}}_{q_j}\n$$\n\nHere, $R_i, t_i$ represent the rotation and translation of the camera relative to the world coordinate system when taking the $i$-th image. $Z_{i,j}$ is the Z-coordinate of calibration point $q_j$ in the camera coordinate system (theoretically exists, but RGB cameras do not retain depth information, so here $Z_{i,j}$ serves mainly as a homogeneous scaling factor):\n\n$$\n{}^{Camera_i}\\mathbf{P}_{q_j}=\\begin{bmatrix}\nX_{i,j}\\\\\nY_{i,j}\\\\\nZ_{i,j}\n\\end{bmatrix}\n$$\n\nWe aim to solve for the camera intrinsic matrix $K$. However, in practice, we do not know the camera pose relative to the world coordinate system when each image was taken. Therefore, $R_i$, $t_i$, and $Z_{i,j}$ are all unknown.\n\nSo we adopt a clever workaround.\n\nSubstituting ${}^{World}\\mathbf{P}_{q_j}$ into the transformation equation:\n\n$$\nZ_{i,j}\\cdot{}^{Img}\\mathbf{\\tilde{P}}_{l_{i,j}} = K_{3\\times3}\\cdot [R_i|t_i]_{3\\times4}\\cdot\\begin{bmatrix}\nx_j\\\\\ny_j\\\\\n0\\\\\n1\n\\end{bmatrix}\n$$\n\nIf we write $[R_i|t_i]$ as four column vectors $[\\mathbf{r}_{1i},\\mathbf{r}_{2i},\\mathbf{r}_{3i}, \\mathbf{t}_i]$, we find that $\\mathbf{r}_{3i}$ disappears, yielding:\n\n$$\nZ_{i,j}\\cdot{}^{Img}\\mathbf{\\tilde{P}}_{l_{i,j}} = K_{3\\times3}\\cdot (x_j\\cdot \\mathbf{r}_{1i}+y_j\\cdot\\mathbf{r}_{2i}+\\mathbf{t}_i)\n=K_{3\\times3}\\cdot \n\\begin{bmatrix}\n\\mathbf{r}_{1i} \u0026 \\mathbf{r}_{2i} \u0026 \\mathbf{t}_{i}\n\\end{bmatrix}\n\\cdot\n\\begin{bmatrix}\nx_j\\\\\ny_j\\\\\n1\n\\end{bmatrix}\n$$\n\nAlso,\n\n$$\nZ_{i,j}\\cdot{}^{Img}\\mathbf{\\tilde{P}}_{l_{i,j}}=Z_{i,j}\\cdot \\begin{bmatrix}\nx_{i,j}\\\\\ny_{i,j}\\\\\n1\n\\end{bmatrix}\n$$\n\nThus, by placing all calibration points on a single plane, the transformation effectively becomes one between two 2D vectors.\n\n### Solving for $\\lambda_i H_i$ from a Single Image\n\nFor one image, we construct equations for all calibration points:\n\n$$\nZ_{i,j_k}\\cdot \\begin{bmatrix}\nx_{i,j_k}\\\\\ny_{i,j_k}\\\\\n1\n\\end{bmatrix}=K_{3\\times3}\\cdot \n\\begin{bmatrix}\n\\mathbf{r}_{1i} \u0026 \\mathbf{r}_{2i} \u0026 \\mathbf{t}_{i}\n\\end{bmatrix}\n\\cdot\n\\begin{bmatrix}\nx_{j_k}\\\\\ny_{j_k}\\\\\n1\n\\end{bmatrix}\n$$\n\nWithin the same image, $K_{3\\times3}\\cdot \n\\begin{bmatrix}\n\\mathbf{r}_{1i} \u0026 \\mathbf{r}_{2i} \u0026 \\mathbf{t}_{i}\n\\end{bmatrix}$ is constant.\n\nThe unknown $Z_{i,j}$ prevents direct combination of equations. However, we can eliminate it by discarding the magnitude constraint and retaining only the direction constraint.\n\n\u003e The original equation enforces both equal direction and equal magnitude.  \n\u003e We discard the magnitude constraint and keep only direction consistency.  \n\u003e We use the cross product to express \"same direction\":\n\u003e $$\n\u003e k\\cdot \\mathbf{t}=\\mathbf{t'} \\Rightarrow  \\mathbf{t}\\times\\mathbf{t'}=0\n\u003e $$\n\nThus:\n\n$$\n{}^{Img}\\mathbf{\\tilde{P}}_{l_{i,j}}\\times (H_i \\cdot {}^{World\\_plane}\\mathbf{\\tilde{P}}_{q_j})=0,\\, \\forall j\n$$\n\nDefine:\n\n$$\nH_i :=K_{3\\times3}\\cdot \n\\begin{bmatrix}\n\\mathbf{r}_{1i} \u0026 \\mathbf{r}_{2i} \u0026 \\mathbf{t}_{i}\n\\end{bmatrix}\n$$\n\nEach calibration point provides two constraints (not three).\n\nSince $H_i$ is common within the image, multiple points allow us to solve for $\\lambda_i H_i$ (note that the cross-product formulation makes $H_i$ determined only up to scale).\n\nBecause $\\lambda_i H_i$ has 8 degrees of freedom, four calibration points (8 constraints) suffice to solve it.\n\n### Solving for $B$ from $\\lambda_i H_i$\n\nFor each image:\n\n$$\n\\lambda_i H_i= \\begin{bmatrix}\n\\mathbf{h_{1_i}} \u0026 \\mathbf{h_{2_i}} \u0026 \\mathbf{h_{3_i}}\n\\end{bmatrix}\n$$\n\nSince $\\mathbf{r}_{1i}$ and $\\mathbf{r}_{2i}$ are orthogonal unit vectors (columns of a rotation matrix), we obtain:\n\n$$\n\\mathbf h_{1i}^T (K^{-1})^TK^{-1}\\mathbf h_{2i}=0\n$$\n\n$$\n\\mathbf h_{1i}^T (K^{-1})^TK^{-1} \\mathbf h_{1i}\n=\n\\mathbf h_{2i}^T (K^{-1})^TK^{-1} \\mathbf h_{2i}\n$$\n\nDefine:\n\n$$\nB:=(K^{-1})^TK^{-1}\n$$\n\nEach image provides two linear constraints on $B$:\n\n$$\n\\mathbf h_{1i}^T B \\mathbf h_{2i}=0\n$$\n\n$$\n\\mathbf h_{1i}^T B\\mathbf h_{1i}=\\mathbf h_{2i}^T B\\mathbf h_{2i}\n$$\n\nSince $B$ is symmetric, it has six independent parameters, but scale is irrelevant, leaving five degrees of freedom.\n\nStacking equations from all images:\n\n$$\n\\mathbf{V} \\mathbf{b}=0, \\, \\mathbf{V}\\in\\mathbb{R}^{2n\\times 6}\n$$\n\nAt least three images (six constraints) are sufficient to solve for $\\mathbf{b}$ in theory.\n\nIn practice, due to noise, we solve:\n\n$$\n\\min_{||b||=1}||\\mathbf{V}\\mathbf{b}||\n$$\n\nUsing SVD, $\\mathbf{b}$ is the right singular vector corresponding to the smallest singular value.\n\n### Recovering $K$ from $B$\n\nAfter solving $\\mathbf b$, we obtain:\n\n$$\nB=(K^{-1})^TK^{-1}\n$$\n\nLet:\n\n$$\nC:=B^{-1}=KK^T\n$$\n\nSince $KK^T$ is symmetric positive definite, perform Cholesky decomposition:\n\n$$\nC=LL^T\n$$\n\nThe resulting lower triangular matrix $L$ is exactly $K$.\n\n### Further Optimization of $K$\n\nRecall the pipeline:\n\n$$\n\\text{corner points} \\to \\lambda_iH_i \\to B \\to K\n$$\n\nInformation was compressed twice, and distortion was ignored, so the obtained $K$ contains systematic bias.\n\nWe refine $K$ by minimizing the reprojection error:\n\n$$\n\\min_{K,D,R_i,t_i} \\sum_i^n \\sum_j^m||{}^{Img}\\mathbf{P}_{l_{i,j}}-\\pi(K,D,R_i,t_i,{}^{World}\\mathbf{\\tilde{P}}_{q_j})||^2\n$$\n\nHere, $\\pi$ denotes the mapping from world coordinates to image coordinates.  \n$K$ is the intrinsic matrix, $D$ is the distortion parameters, $R_i,t_i$ are the pose of image $i$.\n\nSpecifically:\n\n$$\n\\pi(K,D,R_i,t_i,{}^{World}\\mathbf{\\tilde{P}}_{q_j})\n=\nK\\cdot \\text{distort}(\\Pi({}^{Cam_i}T_{World}\\cdot{}^{World}\\mathbf{\\tilde{P}}_{q_j}),D)\n$$\n\nwhere $\\Pi$ is perspective division $(X,Y,Z)\\to(X/Z,Y/Z)$.\n\nThis is a nonlinear least squares problem, typically solved using the Levenbergâ€“Marquardt (LM) algorithm, which adaptively balances Gaussâ€“Newton and gradient descent.\n\n---\n\nWhat I thought would be a short write-up ended up taking much longer, and it kept getting longer as I wrote. This article was almost entirely typed by hand, which made me deeply aware of the inefficiency of human input. I should think about how to write such knowledge summaries in a more AI-native way in the future.\n"])</script><script>self.__next_f.push([1,"17:T532c,"])</script><script>self.__next_f.push([1,"ä¹°åˆ°æ‰‹ä¸€ä¸ªæ‘„åƒå¤´ï¼Œä»–ä¸ä¸€å®šå°±æä¾›äº†å†…å‚çš„è¯»å–åŠŸèƒ½ã€‚ä½†æˆ‘ä»¬å¾€å¾€éœ€è¦è¿™ä¸ªå‚æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¾€å¾€ä¼šä½¿ç”¨è½¯ä»¶æ¥è‡ªå·±æ ‡å®šæ‘„åƒå¤´ã€‚\n\n---\n\n## æ ‡å®šæ‘„åƒå¤´å†…å‚çš„æ–¹æ³•ï¼ˆæŠ½è±¡ç‰ˆï¼‰\n\n\u003e1. æ‰“å°ä¸€ä¸ªæ ‡å®šæ¿ï¼Œæ”¾åœ¨æ¡Œä¸Šã€‚\n\u003e2. æ‹¿èµ·æ‘„åƒå¤´ï¼Œå¯¹ç€è¿™ä¸ªæ ‡å®šæ¿å„ç§è§’åº¦æ‹æ‹æ‹ã€‚\n\u003e3. ç¨‹åºè‡ªå·±ç®—å‡ºæ¥ç›¸æœºå†…å‚\n\n## åŸç†åˆ†æ\n\n\u003e æ­¤å¤„æ‰€æœ‰æ¨å¯¼éƒ½ä½¿ç”¨opencvæ ‡å‡†ç›¸æœºç³»ï¼ŒZæœå‰ï¼ŒXæœå³ï¼ŒYæœä¸‹ã€‚\n\næˆ‘ä»¬è®¾å®šä¸€ç³»åˆ—ä½äºä¸–ç•Œä¸­çš„æ ¡å‡†ç‚¹ï¼Œè®°ä¸º$q_1, q_2,...,q_m$ã€‚ è€Œä¸”æˆ‘ä»¬è¿˜**é¢å¤–è¦æ±‚**è¿™äº›æ ¡å‡†ç‚¹éƒ½åœ¨ä¸€ä¸ªå¹³é¢ä¸Šï¼Œå› æ­¤ä»–ä»¬åœ¨ä¸–ç•Œåæ ‡ç³»ä¸‹çš„åæ ‡éƒ½å¯ä»¥è¢«è¡¨ç¤ºä¸º\n$$\n{}^{World}\\mathbf{P}_{q_j}=\n\\begin{bmatrix}\nx_j\\\\\ny_j\\\\\n0\n\\end{bmatrix}, \\,\n{}^{World}\\mathbf{\\tilde{P}}_{q_j}=\n\\begin{bmatrix}\nx_j\\\\\ny_j\\\\\n0\\\\\n1\n\\end{bmatrix}\n$$\nï¼ˆè‡³äºä¸ºä»€ä¹ˆè¦æ±‚åœ¨åŒä¸€ä¸ªå¹³é¢ä¸Šï¼Œåé¢å°±çŸ¥é“äº†ï¼‰\n\nç„¶åä½¿ç”¨æ‘„åƒå¤´ç”¨å„ç§è§†è§’ç»™ä»–æ‹å¾ˆå¤šå¼ ç…§ç‰‡ï¼ˆæˆ‘ä»¬å…ˆå‡è®¾ä»–ä»¬éƒ½æ˜¯æ²¡æœ‰ç•¸å˜çš„ï¼‰ï¼Œè®°ä¸º$P_1, P_2,...,P_n$ã€‚\n\næˆ‘ä»¬é€šè¿‡è¯¸å¦‚Aurco Codeè¯†åˆ«ç­‰è®¡ç®—æœºè§†è§‰æŠ€æœ¯ï¼Œå¯ä»¥ç¡®å®šæ ¡å‡†ç‚¹åœ¨å›¾åƒä¸­çš„ä½ç½®ã€‚\n\næˆ‘ä»¬è®°ç…§ç‰‡$P_i$ä¸­ï¼Œ$q_j$å¯¹åº”çš„ç‚¹ï¼ˆæŠ•å½±åˆ°ç…§ç‰‡ä¸Šçš„ç‚¹ï¼‰ä¸º$l_{i,j}$ï¼Œè®°ä»–åœ¨å›¾åƒä¸Šçš„åƒç´ åæ ‡ä¸º\n$$\n{}^{Img}\\mathbf{P}_{l_{i,j}}=\\begin{bmatrix}\nx_{i,j}\\\\\ny_{i,j}\n\\end{bmatrix},\\,{}^{Img}\\mathbf{\\tilde{P}}_{l_{i,j}}=\\begin{bmatrix}\nx_{i,j}\\\\\ny_{i,j}\\\\\n1\n\\end{bmatrix}\n$$\nè¿™ä¸ªæŠ•å½±åŸºäºåæ ‡è½¬æ¢å…¬å¼ï¼ˆæ¨å¯¼è§ä¸Šä¸€ç¯‡ï¼‰\n$$\nZ_{i,j}\\cdot{}^{Img}\\mathbf{\\tilde{P}}_{l_{i,j}} = K_{3\\times3}\\cdot [R_i|t_i]_{3\\times4}\\cdot {}^{World}\\mathbf{\\tilde{P}}_{q_j}\n$$\n$R_i,t_i$åˆ†åˆ«æ˜¯ç¬¬iå¼ ç…§ç‰‡$P_i$æ‹æ‘„æ—¶å€™ç›¸æœºç›¸å¯¹äºä¸–ç•Œåæ ‡çš„æ—‹è½¬å’Œå¹³ç§»ï¼Œè€Œ$Z_{i,j}$åˆ™æ˜¯æ ‡å®šç‚¹$p_j$åœ¨ç›¸æœºåæ ‡ç³»ä¸‹çš„Zå€¼ï¼ˆç†è®ºä¸Šå­˜åœ¨ï¼Œä½†RGBDç›¸æœºæ— æ³•ä¿ç•™æ·±åº¦ä¿¡æ¯ï¼Œå› æ­¤$Z_{i,j}$åœ¨è¿™é‡Œæ›´å¤šæ˜¯ä¸€ç§é½æ¬¡åæ ‡çš„æ¯”ä¾‹å› å­)\n$$\n{}^{Camera\\_i}\\mathbf{P}_{q_j}=\\begin{bmatrix}\nX_{i,j}\\\\\nY_{i,j}\\\\\nZ_{i,j}\n\\end{bmatrix}\n$$\nç°åœ¨æˆ‘ä»¬æƒ³è¦æ±‚å‡ºè¿™ä¸ªç›¸æœºå†…å‚çŸ©é˜µ$K$ï¼Œä½†æ˜¯æ˜¾ç„¶æˆ‘ä»¬å‡ ä¹ä¸å¯èƒ½çŸ¥é“ç›¸æœºæ‹æ‘„æ¯å¼ ç…§ç‰‡æ—¶å€™ç›¸å¯¹ä¸–ç•Œåæ ‡ç³»çš„ä½å§¿ï¼Œä»è€Œ$R_i$ï¼Œ$t_i$ï¼Œ$Z_{i,j}$éƒ½æ— ä»å¾—çŸ¥ã€‚\n\nå› æ­¤æˆ‘ä»¬æƒ³äº†ä¸€ä¸ªå·§å¦™çš„åŠæ³•ç»•è¿‡ã€‚\n\nå°†å‰é¢çš„${}^{World}\\mathbf{P}_{q_j}$å¸¦å…¥åæ ‡è½¬æ¢å…¬å¼ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°\n$$\nZ_{i,j}\\cdot{}^{Img}\\mathbf{\\tilde{P}}_{l_{i,j}} = K_{3\\times3}\\cdot [R_i|t_i]_{3\\times4}\\cdot\\begin{bmatrix}\nx_j\\\\\ny_j\\\\\n0\\\\\n1\n\\end{bmatrix}\n$$\nå¦‚æœæˆ‘ä»¬æŠŠ$[R_i|t_i]$è¡¨ç¤ºä¸ºå››ä¸ªåˆ—å‘é‡$[\\mathbf{r}_{1i},\\mathbf{r}_{2i},\\mathbf{r}_{3i}, \\mathbf{t}_i]$ï¼Œå¸¦å…¥å°±ä¼šå‘ç°$r_{3i}$æ¶ˆå¤±äº†ï¼Œä»è€Œå¾—åˆ°\n$$\nZ_{i,j}\\cdot{}^{Img}\\mathbf{\\tilde{P}}_{l_{i,j}} = K_{3\\times3}\\cdot (x_j\\cdot \\mathbf{r}_{i1}+y_j\\cdot\\mathbf{r}_{i1}+\\mathbf{t}_i)=K_{3\\times3}\\cdot \n\\begin{bmatrix}\n\\mathbf{r}_{1i} \u0026 \\mathbf{r}_{2i} \u0026 \\mathbf{t}_{i}\n\\end{bmatrix}\n\\cdot\n\\begin{bmatrix}\nx_j\\\\\ny_j\\\\\n1\n\\end{bmatrix}\n$$\nåˆ\n$$\n\\\\\nZ_{i,j}\\cdot{}^{Img}\\mathbf{\\tilde{P}}_{l_{i,j}}=Z_{i,j}\\cdot \\begin{bmatrix}\nx_{i,j}\\\\\ny_{i,j}\\\\\n1\n\\end{bmatrix}\n$$\nä»è€Œå¯ä»¥å‘ç°ï¼Œé€šè¿‡è®¾ç½®æ‰€æœ‰æ ‡å®šç‚¹éƒ½åœ¨ä¸€ä¸ªå¹³é¢ä¸Šï¼Œæˆ‘ä»¬å°†è¿™ä¸ªå˜æ¢å®è´¨ä¸Šå˜ä¸ºäº†ä¸¤ä¸ªäºŒç»´å‘é‡ä¹‹é—´çš„å˜æ¢ã€‚\n\n### æ±‚å‡ºå•å¼ å›¾åƒçš„$\\lambda_iH_i$\n\næˆ‘ä»¬å¯¹ä¸€å¼ ç…§ç‰‡ä¸Šæ‰€æœ‰çš„æ ¡å‡†ç‚¹æ„å»ºæ–¹ç¨‹\n$$\nZ_{i,j_0}\\cdot \\begin{bmatrix}\nx_{i,j_0}\\\\\ny_{i,j_0}\\\\\n1\n\\end{bmatrix}=K_{3\\times3}\\cdot \n\\begin{bmatrix}\n\\mathbf{r}_{1i} \u0026 \\mathbf{r}_{2i} \u0026 \\mathbf{t}_{i}\n\\end{bmatrix}\n\\cdot\n\\begin{bmatrix}\nx_{j_0}\\\\\ny_{j_0}\\\\\n1\n\\end{bmatrix}\\\\\nZ_{i,j_1}\\cdot \\begin{bmatrix}\nx_{i,j_1}\\\\\ny_{i,j_1}\\\\\n1\n\\end{bmatrix}=K_{3\\times3}\\cdot \n\\begin{bmatrix}\n\\mathbf{r}_{1i} \u0026 \\mathbf{r}_{2i} \u0026 \\mathbf{t}_{i}\n\\end{bmatrix}\n\\cdot\n\\begin{bmatrix}\nx_{j_1}\\\\\ny_{j_1}\\\\\n1\n\\end{bmatrix}\\\\\n...\\\\\nZ_{i,j_m}\\cdot \\begin{bmatrix}\nx_{i,j_m}\\\\\ny_{i,j_m}\\\\\n1\n\\end{bmatrix}=K_{3\\times3}\\cdot \n\\begin{bmatrix}\n\\mathbf{r}_{1i} \u0026 \\mathbf{r}_{2i} \u0026 \\mathbf{t}_{i}\n\\end{bmatrix}\n\\cdot\n\\begin{bmatrix}\nx_{j_m}\\\\\ny_{j_m}\\\\\n1\n\\end{bmatrix}\\\\\n$$\nå¯ä»¥å‘ç°ï¼Œåœ¨åŒä¸€å¼ å›¾ç‰‡å†…éƒ¨ï¼Œ$K_{3\\times3}\\cdot \n\\begin{bmatrix}\n\\mathbf{r}_{1i} \u0026 \\mathbf{r}_{2i} \u0026 \\mathbf{t}_{i}\n\\end{bmatrix}$ éƒ½æ˜¯ä¸€æ ·çš„ã€‚\n\nåªå‰©ä¸‹ä¸€ä¸ª$Z_{i,j_m}$æ˜¯ä¸å„ä¸ªå›¾ç‰‡ç›¸å…³ä¸”æ— æ³•å¾—çŸ¥çš„ä¸¤ï¼Œä»–é˜»ç¢æˆ‘ä»¬ç»Ÿåˆè¿™äº›æ–¹ç¨‹ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ‰”æ‰å®ƒï¼Œä»è€Œå°†å„ä¸ªç‚¹çš„æ–¹ç¨‹å½¢å¼ç»Ÿä¸€èµ·æ¥ã€‚\n\n\u003e åŸæ¥çš„ç­‰å¼è¡¨è¾¾çš„æ˜¯ï¼Œä¸¤ä¸ªå‘é‡å®Œå…¨ç›¸ç­‰ï¼ˆæ–¹å‘ä¸€è‡´+é•¿åº¦ä¸€è‡´ï¼‰\n\u003e\n\u003e æˆ‘ä»¬å¯ä»¥è€ƒè™‘æ”¾å¼ƒä½¿ç”¨é•¿åº¦ä¸€è‡´è¿™ä¸€ä¸ªçº¦æŸï¼Œä»è€Œè¿™ä¸ªç­‰å¼è¿˜å‰©ä¸‹æ–¹å‘ä¸€è‡´è¿™ä¸ªä¿¡æ¯ã€‚\n\u003e\n\u003e æˆ‘ä»¬å¯ä»¥ç”¨å‰ä¹˜è¿™ä¸€æ•°å­¦å·¥å…·æ¥è¡¨ç¤ºâ€æ–¹å‘ä¸€è‡´â€œ ï¼ˆæ³¨æ„ä¸‹é¢æ˜¯å•é¡¹ç®­å¤´ï¼‰\n\u003e $$\n\u003e k\\cdot \\mathbf{t}=\\mathbf{t'} \\Rightarrow  \\mathbf{t}\\times\\mathbf{t'}=0\n\u003e $$\n\näºæ˜¯å°±æœ‰äº†\n$$\n\\begin{align}\n\\begin{bmatrix}\nx_{i,j_0}\\\\\ny_{i,j_0}\\\\\n1\n\\end{bmatrix}\n\\times (K_{3\\times3}\n\\cdot \n\\begin{bmatrix}\n\\mathbf{r}_{1i} \u0026 \\mathbf{r}_{2i} \u0026 \\mathbf{t}_{i}\n\\end{bmatrix}\n\\cdot\n\\begin{bmatrix}\nx_{j_0}\\\\\ny_{j_0}\\\\\n1\n\\end{bmatrix})\u0026=\\mathbf{0}\\\\\n\n\\begin{bmatrix}\nx_{i,j_1}\\\\\ny_{i,j_1}\\\\\n1\n\\end{bmatrix}\\times (K_{3\\times3}\\cdot \n\\begin{bmatrix}\n\\mathbf{r}_{1i} \u0026 \\mathbf{r}_{2i} \u0026 \\mathbf{t}_{i}\n\\end{bmatrix}\n\\cdot\n\\begin{bmatrix}\nx_{j_1}\\\\\ny_{j_1}\\\\\n1\n\\end{bmatrix})\u0026=\\mathbf{0}\\\\\n...\u0026\\\\\n\\begin{bmatrix}\nx_{i,j_m}\\\\\ny_{i,j_m}\\\\\n1\n\\end{bmatrix}\\times (K_{3\\times3}\\cdot \n\\begin{bmatrix}\n\\mathbf{r}_{1i} \u0026 \\mathbf{r}_{2i} \u0026 \\mathbf{t}_{i}\n\\end{bmatrix}\n\\cdot\n\\begin{bmatrix}\nx_{j_m}\\\\\ny_{j_m}\\\\\n1\n\\end{bmatrix})\u0026=\\mathbf{0}\\\\\n\\end{align}\n$$\nä»è€Œåœ¨è¿™ä¸ªå›¾åƒä¸­ï¼Œæ¯ä¸€ä¸ªæ ¡å‡†ç‚¹éƒ½æä¾›äº†ä¸€ä¸ªæ–¹ç¨‹ã€‚ ä¸ºäº†ç®€åŒ–è¡¨è¾¾ï¼Œæˆ‘ä»¬è®°\n$$\nH_i :=K_{3\\times3}\\cdot \n\\begin{bmatrix}\n\\mathbf{r}_{1i} \u0026 \\mathbf{r}_{2i} \u0026 \\mathbf{t}_{i}\n\\end{bmatrix}\\\\\n$$\næ ¡å‡†ç‚¹åœ¨å›¾åƒä¸­çš„åæ ‡è®°ä¸º\n$$\n{}^{Img}\\mathbf{\\tilde{P}}_{l_{i,j}}:=\\begin{bmatrix}\nx_{i,j}\\\\\ny_{i,j}\\\\\n1\n\\end{bmatrix}\n$$\næ ¡å‡†ç‚¹åœ¨ä¸–ç•Œåæ ‡ç³»çš„åæ ‡ä¸”å»é™¤Zåæ ‡ï¼ˆå› ä¸ºzéƒ½æ˜¯0ï¼‰è®°ä¸ºï¼š\n$$\n{}^{World\\_plane}\\mathbf{\\tilde{P}}_{q_j}=\n\\begin{bmatrix}\nx_j\\\\\ny_j\\\\\n\n1\n\\end{bmatrix}\n$$\né‚£ä¹ˆæ¯å¼ å›¾ç‰‡å°±æä¾›äº†è¿™æ ·ä¸€ç»„æ–¹ç¨‹\n$$\n{}^{Img}\\mathbf{\\tilde{P}}_{l_{i,j}}\\times (H_i \\cdot {}^{World\\_plan}\\mathbf{\\tilde{P}}_{q_j})=0,\\, \\forall j\n$$\n\n\u003e æ³¨æ„å…¶ä¸­æ¯ä¸€æ¡æ–¹ç¨‹éƒ½æä¾›äº†ä¸¤ä¸ªçº¦æŸï¼Œè€Œä¸æ˜¯ä¸‰ä¸ªã€‚è¯æ˜å¦‚ä¸‹ï¼š\n\u003e $$\n\u003e \\mathbf{\\tilde{p}}\\times (H_i\\cdot \\mathbf{\\tilde{P}})=0\n\u003e $$\n\u003e è®¾\n\u003e $$\n\u003e \\mathbf{\\tilde{p}}=\\begin{bmatrix}\n\u003e x\\\\\n\u003e y\\\\\n\u003e 1\n\u003e \\end{bmatrix},\\,\n\u003e \\mathbf{w} = H_i\\cdot \\mathbf{\\tilde{P}}= \\begin{bmatrix}\n\u003e w_1\\\\\n\u003e w_2\\\\\n\u003e w_3\n\u003e \\end{bmatrix}\n\u003e $$\n\u003e åˆ™æ ¹æ®å‰ä¹˜å®šä¹‰\n\u003e $$\n\u003e \\mathbf{\\tilde{p}}\\times \\mathbf{w}= \\begin{bmatrix}\n\u003e y\\cdot w_3- w_2\\\\\n\u003e w_1 - x\\cdot w_3\\\\\n\u003e x\\cdot w_2-y\\cdot w_1\n\u003e \\end{bmatrix}=0\n\u003e $$\n\u003e æˆ‘ä»¬è§£å‡ºå‰ä¸¤è¡Œï¼Œå°†ç»“æœå¸¦å…¥ç¬¬ä¸‰è¡Œ\n\u003e $$\n\u003e w_2=y\\cdot w_3\\\\\n\u003e w_1=x\\cdot w_3\n\u003e $$\n\u003e å¸¦å…¥ç¬¬ä¸‰è¡Œå°±æˆäº†\n\u003e $$\n\u003e x\\cdot(y \\cdot w_3)-y\\cdot(x\\cdot w_3)=0\n\u003e $$\n\u003e æ˜¾ç„¶å·¦è¾¹æœ¬æ¥å°±å·²ç»æ˜¯0äº†ï¼Œæ‰€ä»¥ç¬¬ä¸‰è¡Œå®é™…ä¸Šæ— æ³•æä¾›ä»»ä½•çº¦æŸã€‚ä¹Ÿå°±æ˜¯è¿™æ ·ä¸€æ¡æ–¹ç¨‹åªèƒ½æä¾›ä¸¤ä¸ªçº¦æŸã€‚\n\nå¯¹äºå•å¼ å›¾ç‰‡å†…éƒ¨è€Œè¨€ï¼Œä»–çš„$H_i\\in \\mathbb{R^{3\\times3}}$éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè‡ªç„¶è€Œç„¶æˆ‘ä»¬å¯ä»¥ç”¨å¤šä¸ªæ–¹ç¨‹æ¥è§£å‡ºè¿™ä¸ªå˜é‡çš„å€¼ã€‚\n\nä½†æ˜¯ç”±äºå‰ä¹˜æ–¹ç¨‹çš„ç‰¹æ®Šæ€§ï¼Œæ— è®º$H_i$æ‹‰ä¼¸è¿˜æ˜¯æ”¶ç¼©å¤šå°‘å€ï¼Œåªè¦åŸæ¥ç»“æœæ˜¯0ï¼Œé‚£ä¹ˆæ‹‰ä¼¸æ”¶ç¼©å®Œç»“æœè¿˜æ˜¯0ï¼Œæ‰€ä»¥æˆ‘ä»¬èƒ½æ±‚è§£å‡ºçš„å®é™…ä¸Šä¸æ˜¯$H_i$ è€Œæ˜¯$\\lambda_i \\cdot H_i$\n\nå› ä¸ºæœªçŸ¥é‡$\\lambda_i$çš„å­˜åœ¨ï¼Œ$\\lambda_i \\cdot H_i$å®é™…åªæœ‰8ä¸ªè‡ªç”±åº¦ã€‚æ‰€ä»¥åªè¦æœ‰å››ä¸ªæ ¡å‡†ç‚¹ï¼Œå°±æœ‰äº†8ä¸ªçº¦æŸï¼Œå°±èƒ½è§£å‡ºæœ¬å›¾ç‰‡é‡Œé¢çš„$\\lambda_i \\cdot H_i$ã€‚\n\n### ä»å„ä¸ªå›¾åƒçš„$\\lambda_i H_i$ä¸­æ±‚å‡º$B$çŸ©é˜µ\n\nç°åœ¨æ¯ä¸€ä¸ªå›¾åƒæˆ‘ä»¬éƒ½èƒ½æ±‚è§£å‡ºä¸€ä¸ª$\\lambda_i\\cdot H_i=\\begin{bmatrix}\n\\mathbf{h_{1_i}} \u0026 \\mathbf{h_{2_i}} \u0026 \\mathbf{h_{3_i}}\n\\end{bmatrix}$ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•ç»¼åˆå„ä¸ªå›¾åƒçš„$\\lambda_i\\cdot H_i$æ¥æœ€ç»ˆæ±‚è§£å‡º$K_{3\\times3}$\n$$\nH_i :=K_{3\\times3}\\cdot \n\\begin{bmatrix}\n\\mathbf{r}_{1i} \u0026 \\mathbf{r}_{2i} \u0026 \\mathbf{t}_{i}\n\\end{bmatrix}\\\\ \n\\lambda_i\\cdot H_i= \\begin{bmatrix}\n\\mathbf{h_{1_i}} \u0026 \\mathbf{h_{2_i}} \u0026 \\mathbf{h_{3_i}}\n\\end{bmatrix}\n$$\né‚£ä¹ˆå°±ä¼šæœ‰\n$$\n\\mathbf h_{1i} = \\lambda_i\\cdot K\\mathbf r_{1i},\\quad\n\\mathbf h_{2i} = \\lambda_i\\cdot K\\mathbf r_{2i},\\quad\n\\mathbf h_{3i} = \\lambda_i\\cdot K\\mathbf t_i\n$$\næˆ‘ä»¬å¼€å§‹å¯»æ‰¾å†…åœ¨çš„çº¦æŸï¼Œç”±äº$\\mathbf{r}_{1i}$å’Œ$\\mathbf{r}_{2i}$æ˜¯æ—‹è½¬çŸ©é˜µçš„åˆ—å‘é‡ï¼Œé‚£ä¹ˆä»–ä»¬äº’ç›¸æ­£äº¤ï¼Œä¸”ä»–ä»¬çš„é•¿åº¦ç›¸ç­‰ï¼ˆéƒ½æ˜¯1ï¼‰ã€‚è¿™ç»™æˆ‘ä»¬ä¸¤ä¸ªæ–¹ç¨‹\n$$\n(\\frac{1}{\\lambda_i} K^{-1}\\mathbf h_{1i})^T\\cdot(\\frac{1}{\\lambda_i} K^{-1}\\mathbf h_{2i})=0\\\\\n(\\frac{1}{\\lambda_i} K^{-1}\\mathbf h_{1i})^T\\cdot(\\frac{1}{\\lambda_i} K^{-1}\\mathbf h_{1i})=(\\frac{1}{\\lambda_i} K^{-1}\\mathbf h_{2i})^T\\cdot(\\frac{1}{\\lambda_i} K^{-1}\\mathbf h_{2i})\n$$\nç®€åŒ–ä¸€ä¸‹å°±æ˜¯ï¼ˆ$\\lambda$å°±è¿™æ ·è¢«æ¶ˆå»äº†ï¼‰\n$$\n\\mathbf h_{1i}^T (K^{-1})^TK^{-1}\\mathbf h_{2i}=0\\\\\n\\mathbf h_{1i}^T (K^{-1})^TK^{-1} \\mathbf h_{1i}=\\mathbf h_{2i}^T (K^{-1})^TK^{-1} \\mathbf h_{2i}\n$$\næ¥ä¸‹æ¥æˆ‘ä»¬è¿›ä¸€æ­¥å®šä¹‰ä¸€ä¸ªå’Œå›¾åƒæ— å…³çš„å˜é‡$B$ï¼Œä»–å®Œå…¨åªå–å†³äºç›¸æœºçš„å†…å‚ã€‚ \n$$\nB:=(K^{-1})^TK^{-1}\n$$\nä»è€Œæ¯å¼ å›¾åƒ$i$éƒ½æä¾›äº†è¿™æ ·çš„ä¸¤ä¸ªæ–¹ç¨‹\n$$\n\\mathbf h_{1i}^T B \\mathbf h_{2i}=0\\\\\n\\mathbf h_{1i}^T B\\mathbf h_{1i}=\\mathbf h_{2i}^T B\\mathbf h_{2i}\n$$\nä»è€Œä¸€å¼ å›¾åƒç»™äº†ä¸¤ä¸ªå…³äºå˜é‡$B$çš„æ–¹ç¨‹ï¼Œå¤šå¼ å›¾åƒå°±èƒ½å½¢æˆå¤§é‡çº¦æŸï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿå°†å˜é‡$B$è§£å‡ºæ¥ã€‚\n\n\u003e $B$åŒ…å«å¤šå°‘ä¸ªè‡ªç”±åº¦ï¼Ÿä¸€å¼ å›¾åƒçš„ä¸¤ä¸ªæ–¹ç¨‹åˆæä¾›äº†å¤šå°‘çº¦æŸï¼Ÿ\n\u003e\n\u003e é¦–å…ˆï¼Œ$B:=(K^{-1})^TK^{-1}$çš„å®šä¹‰å†³å®šäº†ï¼Œ$B$æ˜¯ä¸€ä¸ªå¯¹ç§°çš„çŸ©é˜µï¼Œä»è€Œåªèƒ½æœ‰6ä¸ªè‡ªç”±åº¦ã€‚\n\u003e $$\n\u003e B=\\begin{bmatrix}\n\u003e b_{11} \u0026 b_{12} \u0026 b_{13}\\\\\n\u003e b_{21} \u0026 b_{22} \u0026 b_{23}\\\\\n\u003e b_{31} \u0026 b_{32} \u0026 b_{33}\n\u003e \\end{bmatrix}=\\begin{bmatrix}\n\u003e b_{11} \u0026 b_{12} \u0026 b_{13}\\\\\n\u003e b_{12} \u0026 b_{22} \u0026 b_{23}\\\\\n\u003e b_{13} \u0026 b_{23} \u0026 b_{33}\n\u003e \\end{bmatrix}\n\u003e $$\n\u003e ä¸æ­¤åŒæ—¶$B$çš„å°ºåº¦è¿˜å®Œå…¨ä¸å½±å“æ–¹ç¨‹æˆç«‹ï¼Œæ‰€ä»¥å®é™…ä¸Šåªæœ‰äº”ä¸ªè‡ªç”±åº¦ã€‚\n\u003e\n\u003e æˆ‘ä»¬å†è®¾$\\mathbf h_{1i}=\\begin{bmatrix}a_1, a_2, a_3\\end{bmatrix}^T$ä»¥åŠ$\\mathbf h_{2i}=\\begin{bmatrix}c_1, c_2, c_3\\end{bmatrix}^T$\n\u003e\n\u003e å°†è¿™äº›å˜é‡å…¨éƒ¨å¸¦å…¥å‰è¿°çš„ä¸¤ä¸ªæ–¹ç¨‹ï¼Œåˆ™æœ‰\n\u003e $$\n\u003e \\begin{bmatrix}\n\u003e a_1c_1\\\\\n\u003e a_1c_2+a_2c_1\\\\\n\u003e a_1c_3+a_3c_1\\\\\n\u003e a_2c_2\\\\\n\u003e a_2c_3+a_3c_2\\\\\n\u003e a_3c_3\n\u003e \\end{bmatrix}^T\n\u003e \\cdot\n\u003e \\begin{bmatrix}\n\u003e b_{11}\\\\\n\u003e b_{12}\\\\\n\u003e b_{13}\\\\\n\u003e b_{22}\\\\\n\u003e b_{23}\\\\\n\u003e b_{33}\\\\\n\u003e \\end{bmatrix}\n\u003e =0\n\u003e $$\n\u003e\n\u003e ä»¥åŠ\n\u003e $$\n\u003e \\begin{bmatrix}\n\u003e a_1a_1\\\\\n\u003e a_1a_2+a_2a_1\\\\\n\u003e a_1c_3+a_3a_1\\\\\n\u003e a_2a_2\\\\\n\u003e a_2a_3+a_3a_2\\\\\n\u003e a_3a_3\n\u003e \\end{bmatrix}^T\n\u003e \\cdot\n\u003e \\begin{bmatrix}\n\u003e b_{11}\\\\\n\u003e b_{12}\\\\\n\u003e b_{13}\\\\\n\u003e b_{22}\\\\\n\u003e b_{23}\\\\\n\u003e b_{33}\\\\\n\u003e \\end{bmatrix}\n\u003e -\\begin{bmatrix}\n\u003e c_1c_1\\\\\n\u003e c_1c_2+c_2c_1\\\\\n\u003e c_1c_3+c_3c_1\\\\\n\u003e c_2c_2\\\\\n\u003e c_2c_3+c_3c_2\\\\\n\u003e c_3c_3\n\u003e \\end{bmatrix}^T\n\u003e \\cdot\n\u003e \\begin{bmatrix}\n\u003e b_{11}\\\\\n\u003e b_{12}\\\\\n\u003e b_{13}\\\\\n\u003e b_{22}\\\\\n\u003e b_{23}\\\\\n\u003e b_{33}\\\\\n\u003e \\end{bmatrix}=0\n\u003e $$\n\u003e é€šå¸¸è¿™ä¸¤ä¸ªæ–¹ç¨‹ä¼šè¢«è¡¨è¾¾ä¸º\n\u003e $$\n\u003e \\mathbf v_{12}(\\mathbf h_{1i},\\mathbf h_{2i})^T \\mathbf b = 0\\\\\n\u003e \\left(\\mathbf v_{11}(\\mathbf h_{1i},\\mathbf h_{1i})-\\mathbf v_{22}(\\mathbf h_{2i},\\mathbf h_{2i})\\right)^T\\mathbf b=0\n\u003e $$\n\næˆ‘ä»¬æŠŠæ‰€æœ‰å›¾ç‰‡çš„ä¸¤ä¸ªæ–¹ç¨‹å †èµ·æ¥ï¼Œå°±å½¢æˆäº†\n$$\n\\mathbf{V} \\mathbf{b}=0, \\, \\mathbf{V}\\in\\mathbb{R}^{2n\\times 6}\n$$\nå¯ä»¥çœ‹åˆ°ï¼Œå˜é‡$\\mathbf b$æœ‰äº”ä¸ªè‡ªç”±åº¦ï¼Œæ¯å¼ å›¾åƒæä¾›ä¸¤ä¸ªç‹¬ç«‹çº¿æ€§çº¦æŸï¼ˆç†æƒ³æƒ…å†µä¸‹ï¼‰ã€‚é‚£ä¹ˆç†è®ºä¸Šæœ€å°‘åªè¦æœ‰ä¸‰å¼ å›¾ç‰‡ï¼Œå°±èƒ½æŠŠ$\\mathbf b$è§£å‡ºæ¥äº†ã€‚\n\nä½†åœ¨ç°å®ä¸­æœ‰å„ç§å™ªå£°åœ¨ï¼Œå®Œç¾çš„è§£æ˜¯ä¸å­˜åœ¨çš„ï¼Œå› æ­¤æˆ‘ä»¬æ”¹ä¸ºæ±‚$\\mathbf{b}$è®©æ–¹ç¨‹å·¦è¾¹çš„ç»“æœå°½å¯èƒ½æ¥è¿‘0ã€‚ä¹Ÿå°±æ˜¯\n$$\n\\min_{||b||=1}||\\mathbf{V}\\mathbf{b}||\n$$\nï¼ˆè¿™é‡Œåº•ä¸‹çš„æ¡ä»¶$||b||=1$å®é™…ä¸Šå¯ä»¥éšä¾¿è®¾ç½®ä¸ºä»»æ„å¤§äº0çš„å€¼ï¼Œåªè¦åœ¨å„è¡Œä¹‹é—´ç»Ÿä¸€å°±è¡Œï¼Œä¸€èˆ¬å°±ç”¨1ã€‚ï¼‰\n\næˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨å¥‡å¼‚å€¼åˆ†è§£è§£å‡ºæœ€ç»ˆçš„$\\mathbf{b}=SVDä¸­å³ä¾§æ­£äº¤çŸ©é˜µçš„æœ€åä¸€åˆ—$ã€‚\n\n\u003e **å¥‡å¼‚å€¼å®šç†ï¼ˆRayleigh quotientï¼‰**\n\u003e\n\u003e å¯¹äºä»»æ„çŸ©é˜µ$V$:\n\u003e $$\n\u003e \\min_{||x||=1}||\\mathbf{V}x||=\\sigma_{min}(V)\n\u003e $$\n\u003e å¹¶ä¸”è¾¾åˆ°æœ€å°å€¼çš„xæ˜¯æœ€å°å¥‡å¼‚å€¼å¯¹åº”çš„å³å¥‡å¼‚å‘é‡ã€‚\n\u003e\n\u003e ---\n\u003e\n\u003e æˆ‘ä»¬ç»“åˆæˆ‘ä»¬çš„ä¾‹å­æ¨å¯¼ä¸€ä¸‹ä¸ºä»€ä¹ˆä¼šè¿™æ ·ã€‚é¦–å…ˆå¯¹$\\mathbf{V}$åšå¥‡å¼‚å€¼åˆ†è§£ï¼ˆSVDï¼‰\n\u003e $$\n\u003e \\mathbf{V}_{2n\\times6}=U_{2n\\times 2n}\\Sigma_{2n\\times6} W_{6\\times6}^T\n\u003e $$\n\u003e å…¶ä¸­$U$å’Œ$W$éƒ½æ˜¯æ­£äº¤çŸ©é˜µï¼Œéƒ½æ»¡è¶³\n\u003e $$\n\u003e U^TU=UU^T=I_{2n\\times2n}\\\\\n\u003e W^TW=WW^T=I_{6\\times6}\n\u003e $$\n\u003e è€Œ$\\Sigma$æ˜¯å½¢çŠ¶ä¸º$2n\\times6$çš„å¯¹è§’çŸ©é˜µ\n\u003e $$\n\u003e \\Sigma=\\begin{bmatrix}\n\u003e \\sigma_1 \u0026 0 \u0026 0 \u0026 \\cdots \u0026 0\\\\\n\u003e 0 \u0026 \\sigma_2 \u0026 0 \u0026 \\cdots \u0026 0\\\\\n\u003e 0 \u0026 0 \u0026 \\sigma_3 \u0026 \\cdots \u0026 0\\\\\n\u003e \\vdots \u0026 \\vdots \u0026 \\vdots \u0026 \\ddots \u0026 \\vdots\\\\\n\u003e 0 \u0026 0 \u0026 0 \u0026 \\cdots \u0026 \\sigma_6\\\\\n\u003e 0 \u0026 0 \u0026 0 \u0026 \\cdots \u0026 0\\\\\n\u003e \\vdots \u0026 \\vdots \u0026 \\vdots \u0026 \u0026 \\vdots\n\u003e \\end{bmatrix}_{2n\\times 6}, \\sigma_1\\geq \\sigma_2 \\geq ... \\geq\\sigma_6 \\geq 0\n\u003e $$\n\u003e ä»»æ„å•ä½å‘é‡$\\mathbf{b}$éƒ½å¯ä»¥è¢«å†™æˆï¼ˆæ­£äº¤çŸ©é˜µåªæ˜¯å˜æ–¹å‘ï¼Œä¸æ”¹å˜æ¨¡é•¿ï¼‰\n\u003e $$\n\u003e \\mathbf{b}=W\\mathbf{y}, ||\\mathbf{y}||=1\n\u003e $$\n\u003e ä»è€Œï¼ˆè¿˜æ˜¯æ­£äº¤çŸ©é˜µä¸æ”¹å˜æ¨¡é•¿ï¼‰\n\u003e $$\n\u003e ||\\mathbf{V}\\mathbf{b}||=||U\\Sigma W^TW\\mathbf{y}||=||U\\Sigma \\mathbf{y}||=||\\Sigma \\mathbf{y}||\n\u003e $$\n\u003e è€Œ\n\u003e $$\n\u003e \\|\\Sigma \\mathbf{y}\\|^2\n\u003e = \\sigma_1^2 y_1^2\n\u003e + \\sigma_2^2 y_2^2\n\u003e + \\cdots\n\u003e + \\sigma_6^2 y_6^2\n\u003e $$\n\u003e é‚£ä¹ˆæ±‚$\\min_{||\\mathbf y||=1}||\\Sigma \\mathbf y||$æ˜¾ç„¶å°±æ˜¯è®©æ¨¡é•¿å…¨éƒ¨ç”¨åœ¨å’Œæœ€å°çš„$\\sigma_6$ç›¸ä¹˜ï¼Œä¹Ÿå°±æ˜¯\n\u003e $$\n\u003e \\mathbf y=\\begin{bmatrix}\n\u003e 0\\\\\n\u003e 0\\\\\n\u003e 0\\\\\n\u003e 0\\\\\n\u003e 0\\\\\n\u003e 1\\\\\n\u003e \\end{bmatrix}\n\u003e $$\n\u003e æ•…è€Œæœ€ç»ˆ\n\u003e $$\n\u003e \\mathbf{b}=W\\mathbf{y}=W\\cdot\\begin{bmatrix}\n\u003e 0\\\\\n\u003e 0\\\\\n\u003e 0\\\\\n\u003e 0\\\\\n\u003e 0\\\\\n\u003e 1\\\\\n\u003e \\end{bmatrix}\n\u003e $$\n\u003e ç»“æœæ˜¯$W$çŸ©é˜µçš„æœ€åä¸€åˆ—\n\n### ä»$B$çŸ©é˜µä¸­æ±‚å‡ºç›¸æœºå†…å‚$K$\n\nè§£å‡ºäº†$\\mathbf b$æˆ‘ä»¬å°±å¾—åˆ°äº†$B_{3\\times3}=(K^{-1})^TK^{-1}=K^{-T}K^{-1}$\n\næœ€åï¼Œæˆ‘ä»¬æ¥è§£å‡ºKã€‚\n$$\nC:=B^{-1}=(K^{-T}K^{-1})^{-1}=KK^T\n$$\nç”±äº$KK^T$çš„æ„å»ºå½¢å¼ï¼Œä¸”$K$æ˜¯å¯é€†çš„ï¼Œæ•…çŸ©é˜µ$C$æ˜¯æ­£å®šçš„ï¼Œå­˜åœ¨Choleskyåˆ†è§£$A=LL^T$ã€‚\n\nå¯ä»¥å‘ç°è§£å‡ºæ¥çš„$L$å°±æ˜¯$K$ï¼Œç»“æŸï¼\n\n\u003e 1. **Kå¯é€†**\n\u003e\n\u003e $$\n\u003e K=\n\u003e \\begin{bmatrix}\n\u003e f_x \u0026 \\gamma \u0026 c_x\\\\\n\u003e 0 \u0026 f_y \u0026 c_y\\\\\n\u003e 0 \u0026 0 \u0026 1\n\u003e \\end{bmatrix}\n\u003e $$\n\u003e\n\u003e ä¸€ä¸ªæœ‰æ•ˆçš„ç›¸æœºï¼Œå†…å‚çŸ©é˜µKä¸­$f_x$å’Œ$f_y$éƒ½ä¸æ˜¯0ï¼ˆä¸ç„¶å›¾ç‰‡å°±æ²¡æœ‰é«˜åº¦æˆ–è€…å®½åº¦äº†ï¼‰ï¼Œä»è€Œå¯é€šè¿‡åˆç­‰è¡Œå˜æ¢äº§ç”Ÿå•ä½çŸ©é˜µï¼Œå„è¡Œçº¿æ€§æ— å…³ï¼Œæ•…å¯é€†ã€‚\n\u003e\n\u003e 2. **$KK^T$æ˜¯æ­£å®š**\n\u003e\n\u003e æ­£å®šçš„å®šä¹‰æ˜¯å¯¹ç§°ä¸”$\\mathbf x^TA \\mathbf x\u003e0,\\forall \\mathbf x\\neq \\mathbf 0$ï¼Œå¸¦å…¥$A=KK^T$å¯å¾—\n\u003e $$\n\u003e \\mathbf x^TA \\mathbf x=\\mathbf x^TKK^T\\mathbf x=(K^T\\mathbf x)^TK^T\\mathbf x\n\u003e $$\n\u003e å› ä¸º$\\mathbf x\\neq0$ä¸”$K$çš„å„åˆ†é‡ï¼ˆè¡Œï¼‰çº¿æ€§æ— å…³ï¼Œæ‰€ä»¥$K^T\\mathbf x\\neq0$ã€‚ ï¼ˆå¦‚æœå­˜åœ¨$\\mathbf x\\neq 0$èƒ½è®©$K^T\\mathbf x=0$ï¼Œé‚£ä¹ˆå°±äº§ç”Ÿäº†çº¿æ€§ç›¸å…³ï¼ŒKå°±ä¸å¯é€†äº†ï¼‰\n\u003e\n\u003e æ‰€ä»¥\n\u003e $$\n\u003e \\mathbf x^TA \\mathbf x=(K^T\\mathbf x)^TK^T\\mathbf x\u003e0\n\u003e $$\n\u003e å¹¶ä¸”æ˜¾ç„¶$KK^T$æ˜¯å¯¹ç§°çš„ï¼Œä»è€Œ$KK^T$æ˜¯æ­£å®šçš„ã€‚\n\u003e\n\u003e 3. **Gramâ€“Schmidt æ­£äº¤åŒ–**\n\u003e\n\u003e å‡è®¾æˆ‘ä»¬æœ‰ä¸€ç»„çº¿æ€§æ— å…³çš„å‘é‡$v_1, v_2,....,v_n$\n\u003e\n\u003e æˆ‘ä»¬æƒ³è¦æŠŠä»–ä»¬å˜ä¸ºä¸€ç»„æ­£äº¤åŸºï¼Œç¬¬ä¸€æ­¥\n\u003e $$\n\u003e u_1=v_1\n\u003e $$\n\u003e ç¬¬äºŒæ­¥\n\u003e $$\n\u003e u_2=v_2-\\frac{v_2^Tu_1}{u_1^Tu_1}u_1\n\u003e $$\n\u003e ä»¥æ­¤ç±»æ¨ï¼Œå°†æ¯ä¸ªå‘é‡éƒ½åˆ é™¤å»æ‰€æœ‰ä¹‹å‰å·²ç»å»ºç«‹çš„æ­£äº¤åŸºu_i$ä¸Šé¢çš„åˆ†é‡ã€‚\n\u003e\n\u003e 4. **Choleskyåˆ†è§£**\n\u003e\n\u003e \"å¯¹ä¸€ä¸ªæ­£å®šçŸ©é˜µ$A$ï¼Œä¸ä»…ä¸€å®šå¯ä»¥å°†ä»–åˆ†è§£ä¸º$A=LL^T$(ä¸‹ä¸‰è§’çŸ©é˜µå’Œå®ƒè‡ªèº«è½¬ç½®çš„ç§¯)ï¼Œè€Œä¸”ï¼ˆLçš„å¯¹è§’å…ƒéƒ½\u003e0çš„ï¼‰åˆ†è§£æ˜¯å”¯ä¸€çš„ã€‚\"\n\u003e\n\u003e æˆ‘ä»¬å¯ä»¥å…ˆè¯•ç€è§£è§£çœ‹ï¼Œå‡è®¾æœ‰ï¼ˆæ³¨æ„Aæ˜¯å¯¹ç§°é˜µï¼‰\n\u003e $$\n\u003e A=\n\u003e \\begin{bmatrix}\n\u003e a_{11} \u0026 a_{21} \u0026 a_{31}\\\\\n\u003e a_{21} \u0026 a_{22} \u0026 a_{32}\\\\\n\u003e a_{31} \u0026 a_{32} \u0026 a_{33}\n\u003e \\end{bmatrix}, \\, L=\n\u003e \\begin{bmatrix}\n\u003e l_{11} \u0026 0 \u0026 0\\\\\n\u003e l_{21} \u0026 l_{22} \u0026 0\\\\\n\u003e l_{31} \u0026 l_{32} \u0026 l_{33}\n\u003e \\end{bmatrix}\n\u003e $$\n\u003e è¦ä½¿å…¶æ»¡è¶³\n\u003e $$\n\u003e A = LL^{T}\n\u003e $$\n\u003e åˆ™å¾—åˆ°\n\u003e $$\n\u003e \\begin{bmatrix}\n\u003e a_{11} \u0026 a_{21} \u0026 a_{31}\\\\\n\u003e a_{21} \u0026 a_{22} \u0026 a_{32}\\\\\n\u003e a_{31} \u0026 a_{32} \u0026 a_{33}\n\u003e \\end{bmatrix}=\n\u003e \\begin{bmatrix}\n\u003e l_{11}^2 \u0026 l_{11}l_{21} \u0026 l_{11}l_{31}\\\\\n\u003e l_{11}l_{21} \u0026 l_{21}^2+l_{22}^2 \u0026 l_{21}l_{31}+l_{22}l_{32}\\\\\n\u003e l_{31}l_{11} \u0026 l_{31}l_{21}+l_{32}l_{22} \u0026 l_{31}^2+l_{32}^2+l_{33}^2\n\u003e \\end{bmatrix}\n\u003e $$\n\u003e æ•…è€Œ\n\u003e $$\n\u003e \\begin{align}\n\u003e l_{11}\u0026=\\sqrt{a_{11}}\\\\\n\u003e l_{21}\u0026=\\frac{a_{21}}{\\sqrt{a_{11}}}\\\\\n\u003e l_{31}\u0026=\\frac{a_{31}}{\\sqrt{a_{11}}}\\\\\n\u003e l_{22}\u0026=\\sqrt{(a_{22}-l_{21}^2)}\\\\\n\u003e l_{32}\u0026=\\frac{a_{32}-l_{21}l_{31}}{l_{22}}\\\\\n\u003e l_{33}\u0026=\\sqrt{(a_{33}-l_{31}^2-l_{32}^2)}\n\u003e \\end{align}\n\u003e $$\n\u003e æ‰€ä»¥è¿™ä¸ªä¸‹ä¸‰è§’é˜µ$L$å°±è¿™ä¹ˆç›´æ¥è¢«è§£å‡ºæ¥äº†ã€‚\n\u003e\n\u003e ä½†æ˜¯è¿™æš—å«ä¸€ä¸ªè¦æ±‚ï¼Œé‚£å°±æ˜¯æ ¹å·å†…å¤§äºé›¶ï¼Œå³ï¼š\n\u003e $$\n\u003e a_{ii}-\\sum^{i-1}_{k=1}l^2_{ik}\u003e0\n\u003e $$\n\u003e è€ŒçŸ©é˜µAçš„æ­£å®šæ€§å¤©ç„¶æ»¡è¶³äº†è¿™ä¸ªè¦æ±‚ã€‚è¿™è¯æ˜èµ·æ¥æ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥å‚è€ƒ[è¿™ä¸ªè¯æ˜](https://math.stackexchange.com/questions/2509810/how-to-prove-the-existence-and-uniqueness-of-cholesky-decomposition)ã€‚\n\n### å¯¹å†…å‚çŸ©é˜µ$K$è¿›è¡Œè¿›ä¸€æ­¥ä¼˜åŒ–\n\nå›é¡¾æˆ‘ä»¬æ˜¯æ€ä¹ˆå¾—åˆ°å½“å‰çš„$K$çš„ï¼Œæˆ‘ä»¬ä»$è§’ç‚¹\\to\\lambda_iH_i\\to B(\\to K)$\n\nè¿™é‡Œé¢è¿›è¡Œäº†ä¸¤æ¬¡çš„ä¿¡æ¯å‹ç¼©ï¼Œå¹¶ä¸”ä¹Ÿæ²¡æœ‰è€ƒè™‘ç›¸æœºç•¸å˜ï¼Œæ‰€ä»¥å¾—åˆ°çš„Kä¸€å®šæ˜¯åŒ…å«äº†ç³»ç»Ÿåå·®çš„ã€‚\n\næ‰€ä»¥åœ¨å¾—åˆ°åˆå§‹çš„$K$ä¹‹åï¼Œå†ä½¿ç”¨åŸå§‹åƒç´ è§‚æµ‹æœ¬èº«å»ä¼˜åŒ–$K$ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯æœ€å°åŒ–é‡æŠ•å½±è¯¯å·®ã€‚\n$$\n\\min_{K,D,R_i,t_i} \\sum_i^n \\sum_j^m||{}^{Img}\\mathbf{P}_{l_{i,j}}-\\pi(K,D,R_i,t_i,{}^{World}\\mathbf{\\tilde{P}}_{q_j})||^2\n$$\nå…¶ä¸­$\\pi$ä»£è¡¨ä»ä¸–ç•Œåæ ‡ï¼Œç»è¿‡ç›¸æœºåˆ°å›¾åƒåæ ‡çš„æ˜ å°„ã€‚$K$æ˜¯ç›¸æœºå†…å‚çŸ©é˜µ,$D$æ˜¯ç•¸å˜çŸ©é˜µ,$R_i,t_i$æ˜¯ç¬¬$i$å¼ å›¾åƒçš„ç›¸æœºposeï¼Œ${}^{World}\\mathbf{P}_{q_j}$æ˜¯ç¬¬jä¸ªæ ¡å‡†ç‚¹åœ¨ä¸–ç•Œçš„åæ ‡ï¼Œ${}^{Img}\\mathbf{P}_{l_{i,j}}$æ˜¯ç¬¬jä¸ªæ ¡å‡†ç‚¹æ˜ å°„åˆ°ç¬¬iå¼ å›¾åƒçš„åƒç´ åæ ‡ã€‚\n\n\u003e å…·ä½“æ¥è¯´è¿™ä¸ª$\\pi(\\cdot)$å®é™…ä¸Šæ˜¯\n\u003e $$\n\u003e \\pi(K,D,R_i,t_i,{}^{World}\\mathbf{\\tilde{P}}_{q_j})=K\\cdot \\text{distort}(\\Pi({}^{Cam_i}T_{World}\\cdot{}^{World}\\mathbf{\\tilde{P}}_{q_j}),D)\n\u003e $$\n\u003e å…¶ä¸­$D$æ˜¯ç•¸å˜å‚æ•°ï¼Œ$\\text{distort}$æ˜¯å¾„å‘+åˆ‡å‘ç•¸å˜ï¼Œ $\\Pi$æ˜¯é€è§†é™¤æ³•$(X,Y,Z)\\to(X/Z,Y/Z)$\n\nè¿™å±äºéçº¿æ€§æœ€å°äºŒä¹˜é—®é¢˜ã€‚å¯¹äºéçº¿æ€§æœ€å°äºŒä¹˜ï¼Œå…¸å‹æ˜¯ Levenbergâ€“Marquardtï¼ˆLMï¼‰æ¥è§£ï¼Œè¿™æ˜¯ä¸€ç§åœ¨ç‰›é¡¿è¿­ä»£æ³•å’Œæ¢¯åº¦ä¸‹é™æ³•ä¹‹é—´è‡ªåŠ¨åˆ‡æ¢çš„ä¼˜åŒ–ç®—æ³•ã€‚\n\n\u003eå®šä¹‰æ®‹å·®å‘é‡ä¸º\n\u003e$$\n\u003e\\mathbf{r}(\\boldsymbol \\theta)=\\begin{bmatrix}\n\u003er_1(\\boldsymbol{\\theta})\\\\\n\u003er_2(\\boldsymbol{\\theta})\\\\\n\u003e\\vdots\\\\\n\u003er_N(\\boldsymbol{\\theta})\n\u003e\\end{bmatrix}\n\u003e$$\n\u003eç›®æ ‡å‡½æ•°å°±æ˜¯\n\u003e$$\n\u003eE(\\theta)=||\\mathbf{r}(\\theta)||^2=\\mathbf r ^T\\mathbf r\n\u003e$$\n\u003e\n\u003e1. **æ¢¯åº¦ä¸‹é™**ï¼ˆç¨³å®šä¼˜åŒ–ä½†æ˜¯æ…¢ï¼‰\n\u003e\n\u003e$$\n\u003e\\nabla E(\\theta)=2\\cdot(\\frac{\\partial \\mathbf r}{\\partial\\mathbf \\theta})^T \\mathbf r(\\theta)\n\u003e$$\n\u003e\n\u003e2. **Gauss-Newtonæ–¹ç¨‹**ï¼ˆå¿«ä½†æ˜¯å¦‚æœè¿‘ä¼¼ä¸å¥½å°±å®¹æ˜“å‡ºé—®é¢˜ï¼‰\n\u003e\n\u003eåœ¨å½“å‰å‚æ•°$\\theta$é™„è¿‘ï¼ŒæŠŠéçº¿æ€§æŠ•å½±å‡½æ•°è¿›è¡Œä¸€é˜¶æ³°å‹’å±•å¼€\n\u003e$$\n\u003e\\mathbf r(\\theta+\\Delta \\theta)\\approx \\mathbf r(\\theta) +J\\Delta\\theta\\\\\n\u003eJ=\\frac{\\partial \\mathbf r}{\\partial \\theta}\n\u003e$$\n\u003e$J$æ˜¯æ‰€è°“é›…å¯æ¯”çŸ©é˜µã€‚\n\u003e\n\u003eæ‰€ä»¥æˆ‘ä»¬çš„ç›®æ ‡å‡½æ•°å°±å¯ä»¥åŒ–ä¸º\n\u003e$$\n\u003eE(\\theta+\\Delta \\theta)\\approx||\\mathbf r(\\theta) +J\\Delta\\theta||^2\n\u003e$$\n\u003eä»è€Œç›®æ ‡å‡½æ•°ç›¸å¯¹äº$\\Delta \\theta$æ¢¯åº¦æ˜¯ï¼ˆç»è¿‡çº¿æ€§åŒ–åç›®æ ‡å‡½æ•°ç›¸å¯¹äº$\\Delta \\theta$æ˜¯äºŒæ¬¡å‡½æ•°ï¼Œå¯é€šè¿‡è§£çº¿æ€§æ–¹ç¨‹ç›´æ¥æœ€å°åŒ–äº†ï¼‰\n\u003e$$\n\u003e\\begin{align}\n\u003e\\nabla_{\\Delta\\theta}E(\\theta+\\Delta \\theta)=\\frac{\\partial E(\\theta+\\Delta \\theta)}{\\partial \\Delta \\theta}\u0026=\\frac{\\partial(\\mathbf r(\\theta) +J\\Delta\\theta)^T(\\mathbf r(\\theta) +J\\Delta\\theta)}{\\partial \\Delta \\theta}\\\\\n\u003e\u0026=\\frac{\\partial(\\mathbf  r(\\theta)^T \\mathbf r+2\\Delta\\theta^TJ^T\\mathbf r(\\theta) +\\Delta\\theta J^TJ\\Delta\\theta)}{\\partial \\Delta \\theta}\\\\\n\u003e\u0026=0+2J^T\\mathbf r(\\theta)+2J^TJ\\Delta \\theta\n\u003e\\end{align}\n\u003e$$\n\u003eè¾¾æˆæå°å€¼çš„å¿…è¦æ¡ä»¶æ˜¯æ¢¯åº¦ä¸ºé›¶ï¼Œæ‰€ä»¥\n\u003e$$\n\u003eJ^TJ\\Delta \\theta=-J^T\\mathbf r(\\theta)\n\u003e$$\n\u003eè¿™å°±æ˜¯Gauss-Newtonæ–¹ç¨‹ã€‚è¿™ä¸ªæ–¹æ³•å¾ˆå¿«ï¼Œä½†è¯¥æ–¹ç¨‹åŸºäºå¯¹ç›®æ ‡å‡½æ•°çš„äºŒæ¬¡è¿‘ä¼¼ï¼Œå½“æ‹Ÿåˆä¸ä½³æ—¶å®¹æ˜“å‘æ•£ã€‚è€Œä¸”ä¸‡ä¸€$J^TJ$ä¸å¯é€†çš„è¯ï¼Œ$\\Delta \\theta$ç›´æ¥å°±æ±‚ä¸å‡ºæ¥äº†ï¼\n\u003e\n\u003e3. **LMæ–¹æ³•**\n\u003e\n\u003eå› æ­¤LMæ–¹æ³•è¿›è¡Œäº†å°ä¿®æ”¹ï¼š\n\u003e$$\n\u003e(J^TJ+\\lambda I)\\Delta \\theta=-J^T\\mathbf r(\\theta)\n\u003e$$\n\u003eé¦–å…ˆä¿è¯äº†$\\Delta \\theta$ä¸€å®šå¯ä»¥æ±‚å‡ºæ¥ï¼Œå› ä¸ºå·¦è¾¹è¿™ä¸ªå› å­ä¸€å®šå¯é€†äº†ã€‚ç„¶åå®¹æ˜“è§‚å¯Ÿåˆ°\n\u003e\n\u003e- å½“$\\lambda$æ¥è¿‘0çš„æ—¶å€™ï¼Œ$\\Delta \\theta$çš„æ±‚è§£ç±»ä¼¼äºä¸Šé¢çš„Gauss-Newtonã€‚\n\u003e- å½“$\\lambda$å¾ˆå¤§çš„æ—¶å€™ï¼Œ$\\Delta \\theta$å°±æ¥è¿‘$-\\frac{1}{\\lambda}J^T\\mathbf r(\\theta)$ã€‚è¿™å®é™…ä¸Šå’Œç›´æ¥åšæ¢¯åº¦ä¸‹é™å¾—åˆ°çš„æ¢¯åº¦å½¢å¼$\\Delta E(\\theta)=2J(\\theta)^T\\mathbf r(\\theta)$ä¸€æ ·ã€‚\n\u003e\n\u003eä»è€ŒLMæ–¹æ³•å°±æ˜¯é€šè¿‡åŠ¨æ€è°ƒèŠ‚ç³»æ•°$\\lambda$æ¥åšåˆ°å› åœ°åˆ¶å®œã€‚å¦‚æœä¸€æ¬¡è¿­ä»£åè¯¯å·®ä¸‹é™äº†ï¼Œä»£è¡¨äºŒæ¬¡è¿‘ä¼¼å¯ä¿¡ï¼Œä»è€Œå‡å°$\\lambda$æ›´åŠ æ¥è¿‘Gauss-Newtonï¼Œæ­¥å­å˜å¤§ã€‚å¦‚æœä¸€æ¬¡è¿­ä»£åè¯¯å·®å¢åŠ äº†ï¼Œä»£è¡¨è¿‘ä¼¼å¯èƒ½å­˜åœ¨é—®é¢˜ï¼Œå¢å¤§$\\lambda$æ›´æ¥è¿‘æ¢¯åº¦ä¸‹é™ï¼Œæ­¥å­å˜å°ï¼Œç¨³æ­¥ä¼˜åŒ–ã€‚\n\n\n\n---\n\nå†™çš„æ—¶å€™ä»¥ä¸ºæŒºçŸ­çš„ï¼Œç»“æœå†™äº†å¥½ä¹…ï¼Œè¶Šå†™è¶Šé•¿ã€‚æœ¬ç¯‡åŸºæœ¬ä¸Šéƒ½æ˜¯æ‰‹æ‰“çš„ï¼Œæ·±æ·±æ„Ÿå—åˆ°äººç±»è¾“å…¥çš„ä½æ•ˆï¼Œåé¢è¦æ€è€ƒæ€ä¹ˆAI Nativeçš„è¿›è¡Œè¿™ç§çŸ¥è¯†æ€»ç»“çš„æ’°å†™ã€‚\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"$12\",null,{\"fallback\":null,\"children\":[\"$\",\"$L15\",null,{\"meta\":{\"title\":\"How to Calibrate Camera Intrinsic Parameters\",\"title_cn\":\"å¦‚ä½•å¯¹æ‘„åƒå¤´è¿›è¡Œå†…å‚æ ‡å®š\",\"subtitle\":\"\",\"subtitle_cn\":\"\",\"date\":\"2026-02-26\",\"tags\":[\"Math\"]},\"contentEn\":\"$16\",\"contentCn\":\"$17\"}]}]\n"])</script><script>self.__next_f.push([1,"c:null\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:null\n"])</script><script>self.__next_f.push([1,"14:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Junshan Huang\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"PhD student at Rutgers University.\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"Junshan Huang\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"Junshan Huang,PhD,Research,Rutgers University\"}],[\"$\",\"meta\",\"4\",{\"name\":\"creator\",\"content\":\"Junshan Huang\"}],[\"$\",\"meta\",\"5\",{\"name\":\"publisher\",\"content\":\"Junshan Huang\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:title\",\"content\":\"Junshan Huang\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:description\",\"content\":\"PhD student at Rutgers University.\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:site_name\",\"content\":\"Junshan Huang's Academic Website\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:title\",\"content\":\"Junshan Huang\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:description\",\"content\":\"PhD student at Rutgers University.\"}],[\"$\",\"link\",\"14\",{\"rel\":\"icon\",\"href\":\"/fav.ico\"}]],\"error\":null,\"digest\":\"$undefined\"}\ne:{\"metadata\":\"$14:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>